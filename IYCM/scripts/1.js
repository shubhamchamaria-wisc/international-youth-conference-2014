(function(a,b,d){var c=function(a,b,d){var c=/.*(dms3rep\/multi\/)(thumbnail\/|mobile\/|tablet\/|desktop\/)?[^.]*(-\d+x\d+)\.?.*/;if(!c.test(a))return a;var c=c.exec(a),m=c[2]?c[2]:"";return a=d?c[0].replace(c[3],"").replace(c[1]+m,""):a.replace("dms3rep/multi/"+m,"dms3rep/multi/"+(b?b+"/":""))};String.prototype.getMultisizedPath=function(a){return c(this.toString(),a,!1)};String.prototype.revertMultisizedPath=function(){return c(this.toString(),null,!0)};b.getSafe=function(a,c){var g,k,m=0;"string"===
typeof a?(k=b,g=a):null!==a&&"undefined"!==typeof a&&(k=a,g=c);"string"===typeof g?g=g.split("."):(g=[],k=d);for(;g[m]!==d&&k!==d;)k=k[g[m]],m++;return k};a.extend(a,{loadScript:function(){var b={};return function(d,c){var k;c=c||{};c.isJSONP&&a('script[src^\x3d"'+d+'"]').length||!c.forceLoad&&b[d]?k=a.Deferred().resolve().promise():(c=a.extend(c||{},{dataType:"script",cache:!0,url:d}),k=a.ajax(c).done(function(){b[d]=!0}));return k}}(),isEditKeyCode:function(a){var b=a.keyCode;return 36<b&&41>b||
8==b||"65"==b&&a.ctrlKey}})})(jQuery,window);
(function(a){a.fn.rPosition=function(b,d){null==b&&(b=window.event);var c=a(this).get(0);d=d||a(c).offset();return{x:b.pageX-d.left,y:b.pageY-d.top}};a.fn.scrollTo=function(b){b=b||2E3;a("html, body").animate({scrollTop:this.offset().top},b)};a.fn.dmCss=function(b,d){return""==d||d?""==d?a(this).css(b,""):-1!=d.indexOf("!important")?(d=d.replace("!important",""),a(this).css(b,""),a(this).each(function(){var c=a(this).attr("style");a(this).attr("style",(c?c+";":"")+b+": "+d+" !important")}),a(this)):
a(this).css(b,d):a(this).css(b)};a.fn.center=function(b){var d=0,c=0;try{b&&(d=b.offset().top,c=b.offset().left)}catch(e){}b=b||a(window);this.css("position","absolute");this.css("top",d+(b.height()-this.outerHeight())/2+b.scrollTop()+"px");this.css("left",c+(b.width()-this.outerWidth())/2+b.scrollLeft()+"px");return this};a.fn.disable=function(){return this.attr("disabled","disabled")};a.fn.enable=function(){return this.removeAttr("disabled")};a.fn.dmid=function(b){return b?a(this).attr("duda_id",
b):a(this).attr("duda_id")};a.fn.dmidForChlidrens=function(){a(this).children().each(function(b,d){var c=a.dmfw.generateDMid();a(d).attr("id",c);a(d).dmid(c)})};a.fn.isReallyFirst=function(){return a(this).is(":first-child")?1==a(this).parent().contents().get(0).nodeType:!1};a.fn.inputFieldLostFocusHandler=function(b){a(this).unbind("focusout");a(this).unbind("keypress");a(this).keypress(function(b){13!=b.which||b.shiftKey||b.altKey||b.ctrlKey||a(this).is("textarea")||a(this).blur()});a(this).focusout(function(d){b(a(this).val(),
d)})};a.fn.getDimPerc=function(b,d,c){c=c&&c.length?c:a(a(this).parent().getTopBlockElement());return"width"==b?Math.round(100*(parseFloat(a(this).innerWidth())/parseFloat(d?d.forceWidthScale:c.innerWidth()))):Math.round(100*(parseFloat(a(this).innerHeight())/parseFloat(d?d.forceHeightScale:c.innerHeight())))};a.fn.getMinDimPerc=function(b){return"width"==b?Math.round(100*(parseFloat(a(this).css("minWidth"))/parseFloat(a(a(this).parent().getTopBlockElement().get(0)).innerWidth()))):Math.round(100*
(parseFloat(a(this).css("minHeight"))/parseFloat(a(a(this).parent().getTopBlockElement().get(0)).innerHeight())))};a.fn.copyOuterHtml=function(b,d,c){var e=a(this),f=e.is(".dmLocked");b=a(b);c=c||{};var g=e;if(e.get(0).nodeName.toLowerCase()!=b.get(0).nodeName.toLowerCase()||c.forceReplace)e.replaceWith(b),e=b,e.dmid(e.attr("id")),g=b;else if(c.keepOriginal)e.extendAttrsOf(b,["id","class"]);else{var k=e.find("label").html();e.html(b.html());d&&e.find("label").html(k);var m=b.get(0);a.each(m.attributes,
function(a){e.attr(m.attributes[a].name,m.attributes[a].value)})}c.replaceCurrent&&(a.dmx.current.element=g);f&&!c.keepOriginal&&(e.selectElement(void 0,void 0,c.forceSelection),e.lockElement({hideTopBar:!0}),!c.forceSelection&&a.dmx.current.editable.inlineEditor.editorUtils.hideSelectionOverlay());return g};a.fn.attrs=function(b,d){var c=a(this);d=d||[];if(b)return c.each(function(d,c){var e=a(c),f;for(f in b)e.attr(f,b[f])}),c;var e={};if(c=c.get(0)){var c=c.attributes,f;for(f in c){var g=c[f];
"undefined"===typeof g.nodeValue||d.contains(g.nodeName)||(e[g.nodeName]=g.nodeValue)}}return e};a.fn.extendAttrsOf=function(a,d){var c=a.attrs(void 0,["id","class"]);this.attrs(c)};a.fn.isAutoMargin=function(){var a=2*this.position().left,d;a:{for(d=this.parent();d;)if("inline"==d.css("display"))d=d.parent();else break a;d=this}a=2>d.innerWidth()-this.outerWidth()-a;d="0px"==this.css("marginLeft");var c="left"==this.css("float")||"right"==this.css("float");return a&&d&&!c?!0:!1};a.fn.isAutoMarginedFromSide=
function(b){var d=a(this),c="right"==b?"left":"right";if("0px"==d.css("margin-"+c)){var e=d.css("margin-"+b);d.dmCss("margin-"+c,"1px !important");b=d.css("margin-"+b);d.dmCss("margin-"+c,"0px !important");return b!=e}return!1};a.fn.isCenteredAutoMargined=function(){var b=a(this),d=b.css("margin-left"),b=b.css("margin-right");if(d==b)return!0;try{if(1>Math.abs(parseInt(d)-parseInt(b)))return!0}catch(c){}return!1};a.fn.getResizeDirection=function(){var b=a(this),d=b.offset().left,c=b.attr("style")||
"";try{var e=parseInt(b.css("width")),f=11>e?2:-4;b.attr("style",c+";width:"+(e+f)+"px !important");var g=b.offset();b.attr("style",c);if(g.left!=d)return Math.abs(g.left-d)<Math.abs(f)?"both":"left"}catch(k){}return"right"};a.fn.getSpacingDirection=function(){var b=a(this),d=b.attr("style")||"",c=d;try{var e=parseInt(b.css("margin-left")),f=parseInt(b.css("width")),c=c+(";width:"+(f-4)+"px !important");b.attr("style",c);var g=b.offset(),k=g.left;0!==k%1&&(e+=1,c+=";margin-left:"+e+"px !important",
b.attr("style",c),g=b.offset(),k=g.left);b.attr("style",c+(";margin-left:"+(e+4)+"px !important"));var m=b.offset();b.attr("style",d);if(m.left!=k)return 4>Math.abs(m.left-k)?"both":"left"}catch(u){}return"right"};a.fn.blink=function(b){function d(d){d=d||a(this);d.data("blinkStop")||d.fadeOut(b.fadeOut,c)}function c(c){c=c||a(this);c.data("blinkStop")||c.fadeIn(b.fadeIn,d)}if("stop"==b)return this.data("blinkStop",!0).stop(!0,!0).show();this.data("blinkStop",!1);b=a.extend({},{fadeIn:100,fadeOut:300},
b||{});d(this);return this};a.fn.preload=function(){this.each(function(){a("\x3cimg/\x3e")[0].src=this})};a.fn.darkenPreviewElement=function(b,d,c,e){null==e&&(e={});var f=a("\x3cdiv\x3e\x3c/div\x3e");f.data("boundedElement",a(this));var g="body";!a.dmx.preview.wnd().jQuery.DM.isBodyScrollable()&&0<a.dmfw.getPreviewElement("#iscrollBody").has(a(this)).length&&(g="#site_content");a.dmfw.getPreviewElement(g).append(f);f.addClass(c?"dmTransedLayoutElement":"dmDrakedElement");e.fixed&&f.addClass("dmDrakedElementFixed");
f.width(a(this).outerWidth());f.height(a(this).outerHeight(!0));a.dmx.preview.wnd().jQuery.DM.isBodyScrollable()||e.fixed?f.css("top",a(this).offset().top+"px"):f.css("top",a(this).offset().top-a.dmx.preview.wnd().$.layoutDevice.getTopFixedElementsOffset()+"px");f.css("left",a(this).offset().left+"px");null!=b&&(f.append(b),b.css("top",d.top+"px"),b.css("left",d.left+"px"),b.attr("class",b.attr("class")));f.fadeIn("fast")};a.fn.darkenPreviewIframe=function(){var b=a("\x3cdiv\x3e\x3c/div\x3e"),d=a(".neePreviewInnerDiv");
d.append(b);b.addClass("dmDrakedElement");b.width(d.outerWidth(!0));b.height(d.outerHeight(!0));b.css("top","40px").css("left","1px");b.show()};a.fn.dmImgNaturalSize=function(){if(this){var b=a(this);if(b.is("img")){if(void 0==b.prop("naturalWidth")){var d=a("\x3cimg/\x3e").attr("src",b.attr("src"));b.prop("naturalWidth",d[0].width);b.prop("naturalHeight",d[0].height)}return{width:b.prop("naturalWidth"),height:b.prop("naturalHeight")}}}return{}};a.fn.positionWithinParent=function(b){function d(a){return{top:a.offset().top,
left:a.offset().left,right:a.offset().left+a.outerWidth(),bottom:a.offset().top+a.outerHeight()}}b=a.extend(!0,{},{margin:{top:0,right:0,bottom:0,left:0},offset:{top:0,left:0}},b);var c=a(this),e=b.parent?c.parents(b.parent):c.parent,f=d(c),e=d(e);f.left<e.left?c.css("left",c.position().left+e.left-f.left+b.margin.left):f.right>e.right?c.css("left",c.position().left+e.right-f.right-b.margin.right):c.css("left",c.position().left+b.offset.left);f.top<e.top?c.css("top",c.position().top+e.top-f.top+b.margin.top):
f.bottom>e.bottom?c.css("top",c.position().top+e.bottom-f.bottom-b.margin.bottom):c.css("top",c.position().top+b.offset.top);return c};a.fn.hoverIntent=function(b,d){var c={sensitivity:7,interval:100,timeout:0},c=a.extend(c,d?{over:b,out:d}:b),e=0,f=0,g=0,k=0,m=function(a){e=a.pageX;f=a.pageY},u=function(b,d){d.hoverIntent_t=clearTimeout(d.hoverIntent_t);if(Math.abs(g-e)+Math.abs(k-f)<c.sensitivity)return a(d).unbind("mousemove",m),d.hoverIntent_s=1,c.over.apply(d,[b]);g=e;k=f;d.hoverIntent_t=setTimeout(function(){u(b,
d)},c.interval)},p=function(b){var d=jQuery.extend({},b),e=this;e.hoverIntent_t&&(e.hoverIntent_t=clearTimeout(e.hoverIntent_t));"mouseenter"==b.type?(g=d.pageX,k=d.pageY,a(e).bind("mousemove",m),1!=e.hoverIntent_s&&(e.hoverIntent_t=setTimeout(function(){u(d,e)},c.interval))):(a(e).unbind("mousemove",m),1==e.hoverIntent_s&&(e.hoverIntent_t=setTimeout(function(){e.hoverIntent_t=clearTimeout(e.hoverIntent_t);e.hoverIntent_s=0;c.out.apply(e,[d])},c.timeout)))};return this.bind("mouseenter",p).bind("mouseleave",
p)};a.fn.single_double_click=function(b,d){return this.each(function(){var c=0,e=this,f=a(this),g=!1,k=!1;cusrorThreshold=3;cursor={pageX:0,pageY:0};f.on("mousedown.smart",function(a){k=!0;g=!1;cursor.pageX=a.pageX;cursor.pageY=a.pageY});f.on("mousemove.smart",function(a){k&&(Math.abs(a.pageX-cursor.pageX)>cusrorThreshold||Math.abs(a.pageY-cursor.pageY)>cusrorThreshold)&&(g=!0)});f.on("mouseup.smart",function(a){});f.on("click.smart",function(f){k=!1;g?g=!1:(c++,1!=c||a(f.target).is(document)?a(f.target).is(document)&&
(c=0):setTimeout(function(){1==c?b&&b.call(e,f):d&&d.call(e,f);c=0;g&&(g=!1)},200))})})};a.fn.findDeepestChild=function(){var b={depth:0,element:this};this.children().each(function(d){d=a(this).findDeepestChild();d.depth+1>b.depth&&(b={depth:1+d.depth,element:d.element})});return b}})(jQuery);
(function(a,b){a.fn.startAction=function(b){b=b||{};b=b.minTime||1E3;var c=a(this),e=a.Deferred();c.attr("disabled","");c.data("counter",e);c.each(function(){a(this).data("original-text",a(this).text())});c.data("loading-text")&&c.text(c.data("loading-text"));c.addClass("neeButtonLoading");setTimeout(function(){e.resolve()},b)};a.fn.forceEndAction=function(b){b=a(this);b.removeAttr("disabled");b.removeClass("neeButtonLoading");b.each(function(){a(this).text(a(this).data("end-text")||a(this).data("original-text"))});
b.data("counter").reject()};a.fn.endAction=function(b){b=b||{};var c=a(this);c.data("counter").done(function(){c.forceEndAction(b)})};a.fn.getPosition=function(a){var b=this.get(0);return b?(b=b.getBoundingClientRect(),a&&b[a]||b):{}}})(jQuery,window);(function(a,b){b.isReseller=b.isR;b.isWLReseller=b.isWLR;b.isDudaone=b.isMultiScreen})(jQuery,window);
(function(a,b){var d={has:function(a,b){return-1!==b.toLowerCase().indexOf(a.toLowerCase())},lowerize:function(a){return a.toLowerCase()}},c=function(){for(var a,d=0,c,e,f,g,k,m=arguments;d<m.length;d+=2){k=m[d];var q=m[d+1];if("undefined"===typeof a)for(f in a={},q)c=q[f],"object"===typeof c?a[c[0]]=b:a[c]=b;for(c=e=0;c<k.length;c++)if(g=k[c].exec(this.getUA())){for(f=0;f<q.length;f++)k=g[++e],c=q[f],"object"===typeof c&&0<c.length?2==c.length?a[c[0]]="function"==typeof c[1]?c[1].call(this,k):c[1]:
3==c.length?a[c[0]]="function"!==typeof c[1]||c[1].exec&&c[1].test?k?k.replace(c[1],c[2]):b:k?c[1].call(this,k,c[2]):b:4==c.length&&(a[c[0]]=k?c[3].call(this,k.replace(c[1],c[2])):b):a[c]=k?k:b;break}if(g)break}return a},e=function(a,c){for(var e in c)if("object"===typeof c[e]&&0<c[e].length)for(var f=0;f<c[e].length;f++){if(d.has(c[e][f],a))return"?"===e?b:e}else if(d.has(c[e],a))return"?"===e?b:e;return a},f={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2E3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",
7:"NT 6.1",8:"NT 6.2",RT:"ARM"},g=[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],["name","version","major"],[/\s(opr)\/((\d+)?[\w\.]+)/i],[["name","Opera"],"version","major"],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,
/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],["name","version","major"],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[["name","IE"],"version","major"],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[["name","Yandex"],"version","major"],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[["name",/_/g," "],"version","major"],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],["name","version","major"],[/(dolfin)\/((\d+)?[\w\.]+)/i],[["name","Dolphin"],
"version","major"],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[["name","Chrome"],"version","major"],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],["version","major",["name","Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],["version","major","name"],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],["name",["major",e,{1:["/8","/1","/3"],2:"/4","?":"/"}],["version",e,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419",
"?":"/"}]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],["name","version","major"],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[["name","Netscape"],"version","major"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,
/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],["name","version","major"]],k=[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",d.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/(ia64(?=;)|68k(?=\))|arm(?=v\d+;)|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],
["architecture",d.lowerize]],m=[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/\((ip[honed]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor",
"model",["type","mobile"]],[/\((bb10);\s(\w+)/i],[["vendor","BlackBerry"],"model",["type","mobile"]],[/android.+((transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+))/i],[["vendor","Asus"],"model",["type","tablet"]],[/(sony)\s(tablet\s[ps])/i],["vendor","model",["type","tablet"]],[/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/((playstation)\s[3portablevi]+)/i],[["vendor","Sony"],"model",["type","console"]],[/(sprint\s(\w+))/i],[["vendor",e,{HTC:"APA",Sprint:"Sprint"}],["model",e,
{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],["vendor",["model",/_/g," "],["type","mobile"]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[["vendor","Motorola"],"model",["type","mobile"]],[/android.+\s((mz60\d|xoom[\s2]{0,2}))\sbuild\//i],[["vendor","Motorola"],"model",["type","tablet"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9))/i],
[["vendor","Samsung"],"model",["type","tablet"]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/(sie)-(\w+)*/i],[["vendor","Siemens"],"model",["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w-;]{10}((a\d{3}))/i],[["vendor","Acer"],"model",["type","tablet"]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],
[["vendor","LG"],"model",["type","tablet"]],[/((nexus\s4))/i,/(lg)[e;\s-\/]+(\w+)*/i],[["vendor","LG"],"model",["type","mobile"]],[/(mobile|tablet);.+rv\:.+gecko\//i],["type","vendor","model"]],u=[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv\:([\w\.]+).*(gecko)/i],["version","name"]],p=[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],
["name",["version",e,f]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",e,f]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids3portablevu]+)/i,
/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[["name","iOS"],["version",
/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],["name",["version",/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]],r=function(b){var d=b||(a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:"");if(!(this instanceof r))return(new r(b)).getResult();this.getBrowser=function(){return c.apply(this,g)};this.getCPU=function(){return c.apply(this,k)};this.getDevice=
function(){return c.apply(this,m)};this.getEngine=function(){return c.apply(this,u)};this.getOS=function(){return c.apply(this,p)};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return d};this.setUA=function(a){d=a;return this};this.setUA(d)};if("undefined"!==typeof exports)"undefined"!==typeof module&&module.exports&&(exports=module.exports=r),exports.UAParser=r;else if(a.UAParser=
r,"function"===typeof define&&define.amd&&define(function(){return r}),"undefined"!==typeof a.jQuery){var v=a.jQuery,q=new r;v.ua=q.getResult();v.ua.get=function(){return q.getUA()};v.ua.set=function(a){q.setUA(a);a=q.getResult();for(var b in a)v.ua[b]=a[b]}}})(this);
var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",encode:function(a){var b="",d,c,e,f,g,k,m=0;for(a=Base64._utf8_encode(a);m<a.length;)d=a.charCodeAt(m++),c=a.charCodeAt(m++),e=a.charCodeAt(m++),f=d>>2,d=(d&3)<<4|c>>4,g=(c&15)<<2|e>>6,k=e&63,isNaN(c)?g=k=64:isNaN(e)&&(k=64),b=b+Base64._keyStr.charAt(f)+Base64._keyStr.charAt(d)+Base64._keyStr.charAt(g)+Base64._keyStr.charAt(k);return b},decode:function(a){var b="",d,c,e,f,g,k=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,
"");k<a.length;)d=Base64._keyStr.indexOf(a.charAt(k++)),c=Base64._keyStr.indexOf(a.charAt(k++)),f=Base64._keyStr.indexOf(a.charAt(k++)),g=Base64._keyStr.indexOf(a.charAt(k++)),d=d<<2|c>>4,c=(c&15)<<4|f>>2,e=(f&3)<<6|g,b+=String.fromCharCode(d),64!=f&&(b+=String.fromCharCode(c)),64!=g&&(b+=String.fromCharCode(e));return b=Base64._utf8_decode(b)},_utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",d=0;d<a.length;d++){var c=a.charCodeAt(d);128>c?b+=String.fromCharCode(c):(127<c&&2048>c?b+=
String.fromCharCode(c>>6|192):(b+=String.fromCharCode(c>>12|224),b+=String.fromCharCode(c>>6&63|128)),b+=String.fromCharCode(c&63|128))}return b},_utf8_decode:function(a){for(var b="",d=0,c=c1=c2=0;d<a.length;)c=a.charCodeAt(d),128>c?(b+=String.fromCharCode(c),d++):191<c&&224>c?(c2=a.charCodeAt(d+1),b+=String.fromCharCode((c&31)<<6|c2&63),d+=2):(c2=a.charCodeAt(d+1),c3=a.charCodeAt(d+2),b+=String.fromCharCode((c&15)<<12|(c2&63)<<6|c3&63),d+=3);return b}},hexcase=0,b64pad="";
function hex_sha1(a){var b=0;a=rstr2hex(rstr_sha1(str2rstr_utf8(a)));for(var d=0;d<a.length;d++)b+=a.charCodeAt(d);return b}function b64_sha1(a){return rstr2b64(rstr_sha1(str2rstr_utf8(a)))}function any_sha1(a,b){return rstr2any(rstr_sha1(str2rstr_utf8(a)),b)}function hex_hmac_sha1(a,b){return rstr2hex(rstr_hmac_sha1(str2rstr_utf8(a),str2rstr_utf8(b)))}function b64_hmac_sha1(a,b){return rstr2b64(rstr_hmac_sha1(str2rstr_utf8(a),str2rstr_utf8(b)))}
function any_hmac_sha1(a,b,d){return rstr2any(rstr_hmac_sha1(str2rstr_utf8(a),str2rstr_utf8(b)),d)}function sha1_vm_test(){return"a9993e364706816aba3e25717850c26c9cd0d89d"==hex_sha1("abc").toLowerCase()}function rstr_sha1(a){return binb2rstr(binb_sha1(rstr2binb(a),8*a.length))}
function rstr_hmac_sha1(a,b){var d=rstr2binb(a);16<d.length&&(d=binb_sha1(d,8*a.length));for(var c=Array(16),e=Array(16),f=0;16>f;f++)c[f]=d[f]^909522486,e[f]=d[f]^1549556828;d=binb_sha1(c.concat(rstr2binb(b)),512+8*b.length);return binb2rstr(binb_sha1(e.concat(d),672))}function rstr2hex(a){try{hexcase}catch(b){hexcase=0}for(var d=hexcase?"0123456789ABCDEF":"0123456789abcdef",c="",e,f=0;f<a.length;f++)e=a.charCodeAt(f),c+=d.charAt(e>>>4&15)+d.charAt(e&15);return c}
function rstr2b64(a){try{b64pad}catch(b){b64pad=""}for(var d="",c=a.length,e=0;e<c;e+=3)for(var f=a.charCodeAt(e)<<16|(e+1<c?a.charCodeAt(e+1)<<8:0)|(e+2<c?a.charCodeAt(e+2):0),g=0;4>g;g++)d=8*e+6*g>8*a.length?d+b64pad:d+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>6*(3-g)&63);return d}
function rstr2any(a,b){var d=b.length,c=[],e,f,g,k,m=Array(Math.ceil(a.length/2));for(e=0;e<m.length;e++)m[e]=a.charCodeAt(2*e)<<8|a.charCodeAt(2*e+1);for(;0<m.length;){k=[];for(e=g=0;e<m.length;e++)if(g=(g<<16)+m[e],f=Math.floor(g/d),g-=f*d,0<k.length||0<f)k[k.length]=f;c[c.length]=g;m=k}d="";for(e=c.length-1;0<=e;e--)d+=b.charAt(c[e]);c=Math.ceil(8*a.length/(Math.log(b.length)/Math.log(2)));for(e=d.length;e<c;e++)d=b[0]+d;return d}
function str2rstr_utf8(a){for(var b="",d=-1,c,e;++d<a.length;)c=a.charCodeAt(d),e=d+1<a.length?a.charCodeAt(d+1):0,55296<=c&&56319>=c&&56320<=e&&57343>=e&&(c=65536+((c&1023)<<10)+(e&1023),d++),127>=c?b+=String.fromCharCode(c):2047>=c?b+=String.fromCharCode(192|c>>>6&31,128|c&63):65535>=c?b+=String.fromCharCode(224|c>>>12&15,128|c>>>6&63,128|c&63):2097151>=c&&(b+=String.fromCharCode(240|c>>>18&7,128|c>>>12&63,128|c>>>6&63,128|c&63));return b}
function str2rstr_utf16le(a){for(var b="",d=0;d<a.length;d++)b+=String.fromCharCode(a.charCodeAt(d)&255,a.charCodeAt(d)>>>8&255);return b}function str2rstr_utf16be(a){for(var b="",d=0;d<a.length;d++)b+=String.fromCharCode(a.charCodeAt(d)>>>8&255,a.charCodeAt(d)&255);return b}function rstr2binb(a){for(var b=Array(a.length>>2),d=0;d<b.length;d++)b[d]=0;for(d=0;d<8*a.length;d+=8)b[d>>5]|=(a.charCodeAt(d/8)&255)<<24-d%32;return b}
function binb2rstr(a){for(var b="",d=0;d<32*a.length;d+=8)b+=String.fromCharCode(a[d>>5]>>>24-d%32&255);return b}
function binb_sha1(a,b){a[b>>5]|=128<<24-b%32;a[(b+64>>9<<4)+15]=b;for(var d=Array(80),c=1732584193,e=-271733879,f=-1732584194,g=271733878,k=-1009589776,m=0;m<a.length;m+=16){for(var u=c,p=e,r=f,v=g,q=k,t=0;80>t;t++){d[t]=16>t?a[m+t]:bit_rol(d[t-3]^d[t-8]^d[t-14]^d[t-16],1);var B=safe_add(safe_add(bit_rol(c,5),sha1_ft(t,e,f,g)),safe_add(safe_add(k,d[t]),sha1_kt(t))),k=g,g=f,f=bit_rol(e,30),e=c,c=B}c=safe_add(c,u);e=safe_add(e,p);f=safe_add(f,r);g=safe_add(g,v);k=safe_add(k,q)}return[c,e,f,g,k]}
function sha1_ft(a,b,d,c){return 20>a?b&d|~b&c:40>a?b^d^c:60>a?b&d|b&c|d&c:b^d^c}function sha1_kt(a){return 20>a?1518500249:40>a?1859775393:60>a?-1894007588:-899497514}function safe_add(a,b){var d=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(d>>16)<<16|d&65535}function bit_rol(a,b){return a<<b|a>>>32-b}$(document).ready(function(){initHandlers();initBlogs()});
var RSS_CONTAINER_SELECTOR=".dmRssContainer",RSS_CONTAINER_MORE_POSTS_BUTTON="#dmMorePostsButton",RSS_CONTAINER_MORE_POSTS_INNER_DIV=".dmMorePostsButtonClass",POST_ITEM=".dmRssItem",POST_ITEM_LINK=".dmRssA",POST_NEXT_ITEM_ELEMENT="#dmNextItemLink",POST_PREV_ITEM_ELEMENT="#dmPrevItemLink",SEARCH_ELEMENT=".dmSearchElementMain",SEARCH_RESULTS_MAIN_DIV=".dmSearchResultsMain",SEARCH_BUTTON=".dmSearchButton",SEARCH_RESULTS_DIV=".dmSearchResults",SEARCH_INPUT=".dmSearchInput",queryNumber=1,lastSearchTerm=
"",blogItems=[],currentShownPost=new PostItem("");
function initBlogs(){if(0<$(RSS_CONTAINER_SELECTOR).length){blogItems=[];var a=$(POST_ITEM).length;$(POST_ITEM).each(function(a){elm=$(this).find(POST_ITEM_LINK);var b=elm.attr("href");blogItems[a]=new PostItem(b);elm.click(function(b){currentShownPost=blogItems[a]})});for(var b=0;b<blogItems.length;b++)0<b&&(blogItems[b].prevLink=blogItems[b-1].link),b<a-1&&(blogItems[b].nextLink=blogItems[b+1].link)}0<$("#dmPostBackToMain").length&&($("#dmPostBackToMain").css("display","none"),$(Parameters.HomeLinkSelector).attr("href",
$("#dmPostBackToMain").attr("href")))}function initHandlers(){"true"==$(SEARCH_BUTTON).attr("autocomplete")&&$(SEARCH_INPUT).bind("keyup",function(a){search()})}function findPostItem(a){for(var b=0;b<blogItems.length;b++)if(-1!=a.indexOf(blogItems[b].link))return blogItems[b];return null}function PostItem(a){this.link=a;this.nextLink=this.prevLink=""}
function fetchMoreBlogItems(a){if("BLOGGER"==Parameters.WebPlatform)fetchMoreBlogItemsForBlogger(a);else{var b={commandID:"loadMorePosts"};b._url=a;b._morePostsLabel=$(RSS_CONTAINER_MORE_POSTS_INNER_DIV).html();a="/_dm/s/rt/api/public/wpl/site/"+Parameters.SiteId;var d=$(RSS_CONTAINER_MORE_POSTS_BUTTON).offset().top+2,c=jQuery.DM.getPageWidth()/2-102;if($.browser.msie||$.browser.mozilla)c=jQuery.DM.getPageWidth()/2-125;d=[c,d];setLoaderSize(8,2);jQuery.DM.setLoadingOnScreen(!0,d,!1);jQuery.DM.assignLoaderColor(RSS_CONTAINER_MORE_POSTS_INNER_DIV);
$.ajax({url:a,type:"post",data:JSON.stringify(b),async:!0,contentType:"application/json",error:function(a,b,c){jQuery.DM.setLoadingOnScreen(!1)},success:function(a){var b=$(RSS_CONTAINER_MORE_POSTS_BUTTON);jQuery.DM.setLoadingOnScreen(!1);if(a.postList){var c=$("\x3cdiv\x3e\x3c/div\x3e").append($(a.postList).find(RSS_CONTAINER_SELECTOR)).html();a=$(POST_ITEM_LINK)[$(POST_ITEM).length-1];a=$(a).attr("href");isDudaone||null==$.DM.getQueryParam(a,"url")||(a=unescape($.DM.getQueryParam(a,"url")));a=$.DM.getQueryParam(a,
"post_id");for(var c=$(c),d=$(POST_ITEM_LINK,c),m=-1,u=0;u<d.length;u++){var p=$(d[u]).attr("href");isDudaone||null==$.DM.getQueryParam(p,"url")||(p=unescape($.DM.getQueryParam(p,"url")));if(a==$.DM.getQueryParam(p,"post_id")){m=u;break}}if(-1<m)for(u=0;u<=m;u++)c.find($(d[u])).parent().remove();a=c.html();$(a).insertBefore(b);b.remove();jQuery.DM.initAjaxLinks();jQuery.DM.updateIOSHeight();initBlogs();jQuery.DM.isUseLayout()&&jQuery.layoutManager.initLayout()}}})}}
function fetchMoreBlogItemsForBlogger(a){a=$(RSS_CONTAINER_MORE_POSTS_BUTTON).attr("href");var b=$(RSS_CONTAINER_MORE_POSTS_BUTTON).offset().top+2,d=jQuery.DM.getPageWidth()/2-102;if($.browser.msie||$.browser.mozilla)d=jQuery.DM.getPageWidth()/2-125;b=[d,b];setLoaderSize(8,2);jQuery.DM.setLoadingOnScreen(!0,b,!1);jQuery.DM.assignLoaderColor(RSS_CONTAINER_MORE_POSTS_INNER_DIV);jQuery.DM.executeAjaxCommand(a,function(a){jQuery.DM.setLoadingOnScreen(!1);a=$(a.content).find(RSS_CONTAINER_SELECTOR).html();
var b=$(RSS_CONTAINER_MORE_POSTS_BUTTON);$(a).insertBefore(RSS_CONTAINER_MORE_POSTS_BUTTON);b.remove();jQuery.DM.initAjaxLinks();jQuery.DM.updateIOSHeight();initBlogs()},function(a,b,d){jQuery.DM.setLoadingOnScreen(!1)})}
function search(){var a=$(SEARCH_ELEMENT),b=$(SEARCH_INPUT).val().trim();if(""==b)queryNumber++,a.empty(),a.css("display","none"),$.DM.darkenPreviewScreen(!1);else if(lastSearchTerm!=b||"none"==a.css("display")){queryNumber++;lastSearchTerm=b;b={commandID:"searchPosts"};b._searchTerm=$(SEARCH_INPUT).val();b._providerType=$(SEARCH_BUTTON).attr("providertype");b._rssURL=$(SEARCH_BUTTON).attr("rssurl");b._openSearchDescriptor=$(SEARCH_BUTTON).attr("opensearchdescriptor");b._maxResults=$(SEARCH_BUTTON).attr("maxresults");
b._queryNumber=queryNumber;var d="/_dm/s/rt/api/public/wpl/site/"+Parameters.SiteId,c=$(SEARCH_INPUT).offset().top+6,c=[$(SEARCH_INPUT).width()+2*$(SEARCH_INPUT).offset().left-40,c];setLoaderSize(5,2);jQuery.DM.setLoadingOnScreen(!0,c,!1);$.ajax({url:d,type:"post",data:JSON.stringify(b),async:!0,contentType:"application/json",error:function(a,b,c){jQuery.DM.setLoadingOnScreen(!1)},success:function(b){b.results&&b.queryNumber==queryNumber&&(a.empty(),0==b.resultsNum?(a.css("display","none"),$.DM.darkenPreviewScreen(!1)):
(b=$(b.results),b.find(SEARCH_RESULTS_MAIN_DIV).html(),a.append(b),a.css("display","block"),a.focus(),$(SEARCH_INPUT).addClass("dmSearchInputWithResults"),$.DM.darkenPreviewScreen(!0),$("#dmBlackWrapper").unbind("click").bind("click",function(){a.css("display","none");$.DM.darkenPreviewScreen(!1)})));jQuery.DM.setLoadingOnScreen(!1)}})}}function closeSearch(){$(SEARCH_ELEMENT).css("display","none");$(SEARCH_INPUT).removeClass("dmSearchInputWithResults");$.DM.darkenPreviewScreen(!1)}
function initSwipeHandlers(){if(!dmNoSwipe){var a=findPostItem(currentShownPost.link);jQuery.DM.initSwipeSelectors(".dmBlogInnerPostPage",function(){if(""!=a.nextLink){currentShownPost=new PostItem(a.nextLink);currentShownPost.prevLink=a.link;var b=findPostItem(a.nextLink);null!=b&&(currentShownPost.nextLink=b.link);jQuery(POST_NEXT_ITEM_ELEMENT).attr("href",a.nextLink);jQuery(POST_NEXT_ITEM_ELEMENT).attr("animationType","forward");jQuery(POST_NEXT_ITEM_ELEMENT).trigger("click");return!0}return!1},
function(){if(""!=a.prevLink){currentShownPost=new PostItem(a.prevLink);currentShownPost.nextLink=a.link;var b=findPostItem(a.prevLink);null!=b&&(currentShownPost.prevLink=b.link);jQuery(POST_PREV_ITEM_ELEMENT).attr("href",a.prevLink);jQuery(POST_PREV_ITEM_ELEMENT).attr("animationType","backward");jQuery(POST_PREV_ITEM_ELEMENT).trigger("click");return!0}return!1})}}
function cropImage(a){$image=$(a);a=new Image;a.src=$image.attr("src");$image.css("position","static");$div=$image.parent();$div.css("overflow","hidden");-1==$image.attr("src").indexOf("transparent.gif")&&$div.css("background","white");width=a.width;height=a.height;divwidth=$div.width();divheight=$div.height();width>height?($image.css("height",""+divheight+"px"),width=$image.width,width>divwidth&&(console.log(width-divwidth,width,divwidth),diff=width-divwidth,$image.css("left",""+(0-diff/2)+"px"))):
($image.css("width",""+divwidth+"px"),height=$image.height,height>divheight&&(console.log(height-divwidth,height,divwidth),diff=height-divheight,$image.css("top",""+(0-diff/2)+"px")))}
(function(){var a,b;jQuery.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};a=jQuery.uaMatch(navigator.userAgent);b={};a.browser&&(b[a.browser]=!0,b.version=a.version);b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0);b.msie=!!navigator.userAgent.match(/MSIE|Trident\/7\./);
jQuery.browser=b;jQuery.live=function(a,b,e){jQuery(this.context).on(a,this.selector,b,e);return this};jQuery.die=function(a,b){jQuery(this.context).off(a,this.selector||"**",b);return this}})();(function(){"function"!==typeof String.prototype.contains&&(String.prototype.contains=function(a){return-1!=this.indexOf(a)})})();
var MAX_CACHE_SIZE=20,HOME_CLASS_IDENTIFIER="Home",NAV_CLASS_IDENTIFIER="Nav",FIRST_CONTAINER_ID="dmFirstContainer",TEMP_CONTAINER_ID="dmTempContainer",TRANS_CONTAINER_ID="dmTransArea",GALLERY_CONTAINER_ID="dmGalleryContainer",GALLERY_CONTAINER_ID_IMG="dmGalleryImage",GALLERY_BLACK_CONTAINER_ID="dmBlackContainer",FACEBOOK_COMMENTS_ID="dmFacebookComments",docWriteCalled=!1,isNewNav=!1,afterExpCol=null;function Enum(){}Enum.AnimationType={None:0,SlideLeft:1,SlideRight:2,Rotate:3,Fade:4};
Enum.LinkType={Home:0,Nav:1,Other:2};Enum.WebPlatformType={General:0,Webs:1,Attsmb:2,WebsPlanet:3,Blogs:4};Enum.AgentType={Iphone:0,Android:1,BlackBerry:2,Nokia:3,WindowsMobile:4,Other:5};Enum.ThemeType={Matrix:0,Other:1};
function parametersClass(){this.AjaxContainer="div.dmBody";this.WrappingContainer="div.dmOuter";this.BackgroundElement="div.dmInner";this.SiteType=this.SiteId=this.SiteAlias=this.CurrentLinkType=this.IsCurrentHomePage=this.CurrentPageUrl=this.HomeUrl=null;this.DefaultPageAlias=this.InitialPageAlias="home";this.AnimationTypeInner=this.AnimationTypeBackward=this.AnimationTypeForward=Enum.AnimationType.Fade;this.Charset="UTF-8";this.CacheSize=10;this.AllowAjax=!0;this.IsSEOFriendlyLinks=!1;this.LinksToAjax=
"";this.LinksToAjaxExceptions=[];this.StartupCommand=this.AfterAjaxCommand=this.BeforeAjaxCommand=null;this.WebsiteGenerator=Enum.WebPlatformType.General;this.SelectorsToHideOnTransitions=null;this.HomeLinksClasses="dm-logo-anchor";this.HomeLinkText="Back to home";this.HomeLinkSelector="a.dmHome";this.UseGalleryModule=!1;this.CurrentThemeName="";this.DisableLinks=!1;this.AfterMoreLessCommand=null;this.IsBfs=!1;this.ManifestId=-1;this.NavParameters=function(){this.NavbarSize=5;this.NavbarSelector=
".dmNav";this.SubNavbarSelector="";this.NavbarLiveHomePage=null;this.BlockContainerSelector=".dmBody";this.ShowBackToHomeOnInnerPages=!0;this.MoreButtonText="More Options";this.LessButtonText="Less Options";this.ReplaceNavigationOnInnerPages=!0};this.SidebarParameters=function(){this.SidebarSelector=".dm_sideBar";this.SidebarArrowSelector="#fw-sidebar-arrow";this.SidebarInitialClass="fw-sidebarbegin";this.SidebarClosingClass="fw-sidebarend"};this.NavigationAreaParams=new this.NavParameters;this.SidebarParams=
new this.SidebarParameters}var Parameters=new parametersClass;
(function(a,b){function d(a){this.pageUrl=a;this.pageAlias="DUDAONE"==Parameters.SiteType?Parameters.InitialPageAlias:"";this.pageContent=null;this.ajaxCallComplete=!1;this.linkType=Enum.LinkType.Other;this.pageUrlIdentifier=hex_sha1(this.pageUrl);this.pageID=this.pageUrlIdentifier+"";this.pageScrollTo=null;this.pageReady=!1;this.pageAnimation=null}function c(){var a;a:{if(window.localStorage)try{localStorage.setItem("testKey",1);localStorage.removeItem("testKey");a=!0;break a}catch(b){}a=!1}a&&Parameters.AllowAjax&&
H!=Enum.AgentType.Android&&8!==aa&&7!==aa&&(P=[],U=!0,D=function(){return{setItem:function(a,l){var b=this.getStorage();b[a]=l;localStorage.setItem("dmPagesCache",JSON.stringify(b))},getItem:function(a){return this.getStorage()[a]||null},clear:function(){localStorage.setItem("dmPagesCache","{}")},getSize:function(){return Object.keys(this.getStorage()).length},getStorage:function(){return JSON.parse(localStorage.getItem("dmPagesCache")||"{}")||{}}}}(),D.clear())}function e(){return void 0!=Parameters&&
null!=Parameters.SiteType&&"DUDAONE"==Parameters.SiteType}function f(){if(a.dmrt.srvInstruct)for(var l=0;l<a.dmrt.srvInstruct.length;l++){var b=a.dmrt.srvInstruct[l];switch(b.action){case "popup":var c=a("\x3cdiv\x3e\x3cdiv class\x3d'popupData'\x3e\x3c/div\x3e\x3c/div\x3e"),d=b.props.delay?1E3*b.props.delay:0;c.find(".popupData").html(b.props.text);setTimeout(function(){dmShowPopup(c,b.props.title)},d)}}}function g(l,b,c,d){var e=-1!==l.indexOf("callback\x3d"),f=a.Deferred();d=a.extend({forceLoad:e,
isJSONP:e},d||{});a.loadScript(l,d).done(function(){if(!e&&b){try{b()}catch(a){console.log("DM-Ajax: init widget callback throws exception: "+a.message)}c&&h.updateAfterInit();f.resolve()}}).fail(function(){f.reject()});return f.promise()}function k(a,b){if(null==a)return null;var c=a.split("?"),d="";if(1<c.length)d=c[1];else return null;var d=d.split("#")[0],c=0,e,d=d.split("\x26"),f=d.length;for(c;c<f;c++)if(e=d[c],e=e.split("\x3d"),2===e.length&&e[0]===b)return e[1];return null}function m(){var l=
a("#"+GALLERY_CONTAINER_ID);0==l.length&&(l=a('\x3cdiv ID\x3d"'+GALLERY_CONTAINER_ID+'"\x3e\x3c/div\x3e'),l.css("position","absolute"),l.changeDisplay("none"),l.css("z-index","100000"),l.css("left","0px"),l.css("top","0px"),a("body").append(l));var b=a("#"+GALLERY_BLACK_CONTAINER_ID);0==b.length&&(b=a('\x3cdiv ID\x3d"'+GALLERY_BLACK_CONTAINER_ID+'" ontouchmove\x3d"touchMove(event);"\x3e\x3c/div\x3e'),b.css("position","absolute"),b.changeDisplay("none"),b.css("overflow","hidden"),b.css("left","0px"),
b.css("top","0px"),b.css("background-color","#000000"),b.css("opacity","0.8"),b.css("z-index","99999"),b.changeDisplay("none"),b.width(a(document).width()),b.height(V()+Q()+100),a("body").append(b));H!=Enum.AgentType.Other&&(H==Enum.AgentType.Iphone?l.unbind("orientationchange").bind("orientationchange",function(a){ka()}):window.addEventListener("orientationchange",function(){ka()},!1))}function u(){var l;null!=Parameters.AjaxContainer&&(s=Parameters.AjaxContainer,a(s).css("-webkit-transition","-webkit-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)"),
a(s).css("-moz-transition","-moz-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)"),a(s).css("-o-transition","-o-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)"),a(s).css("-ms-transition","-ms-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)"),a(s).attr("id",FIRST_CONTAINER_ID),s="#"+FIRST_CONTAINER_ID,a("#"+FIRST_CONTAINER_ID).css("-webkit-transform",Parameters.trans+
"(0px, 0px, 0px)"),a("#"+FIRST_CONTAINER_ID).css("-moz-transform","translate(0px, 0px)"),a("#"+FIRST_CONTAINER_ID).css("-o-transform","translate(0px, 0px)"),a("#"+FIRST_CONTAINER_ID).css("-ms-transform","translate(0px, 0px)"),l=a("\x3cdiv\x3e\x3c/div\x3e"),pa(a(s).get(0),l),l.width(a(s).width()),l.height(a(window).height()),l.css("position","absolute"),l.css("top","0px"),l.css("display","none"),l.insertBefore(a(s)),l.attr("id",TEMP_CONTAINER_ID),a("#"+TEMP_CONTAINER_ID).css("-webkit-transition","-webkit-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)"),
a("#"+TEMP_CONTAINER_ID).css("-moz-transition","-moz-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)"),a("#"+TEMP_CONTAINER_ID).css("-o-transition","-o-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)"),a("#"+TEMP_CONTAINER_ID).css("-ms-transition","-ms-transform 0.4s cubic-bezier(.10, .10, .25, .90), opacity 0.4s cubic-bezier(.10, .10, .25, .90)"),a("#"+TEMP_CONTAINER_ID).css("-webkit-transform",Parameters.trans+
"(0px, 0px, 0px)"),a("#"+TEMP_CONTAINER_ID).css("-moz-transform","translate(0px, 0px)"),a("#"+TEMP_CONTAINER_ID).css("-o-transform","translate(0px, 0px)"),a("#"+TEMP_CONTAINER_ID).css("-ms-transform","translate(0px, 0px)"));null!=Parameters.WrappingContainer?ba=Parameters.WrappingContainer:(Parameters.AnimationTypeForward=Enum.AnimationType.None,Parameters.AnimationTypeBackward=Enum.AnimationType.None,Parameters.AnimationTypeInner=Enum.AnimationType.None);null!=Parameters.CacheSize&&Parameters.CacheSize>
MAX_CACHE_SIZE&&(_Parameters.CacheSize=MAX_CACHE_SIZE);if(-1==Parameters.NavigationAreaParams.NavbarSize||-1<navigator.userAgent.indexOf("Opera"))Parameters.NavigationAreaParams.NavbarSize=Number.MAX_VALUE;if(null!=Parameters.CurrentPageUrl){l=window.location.hash;null!=l&&""!=l&&(l=l.replace("#",""));l=M(l);null!=l?(n=t(l),Parameters.IsSEOFriendlyLinks||(window.location.hash=n.pageID),"complete"!==document.readyState&&n.pageContent.isHomePage||n.show()):(l=Parameters.CurrentPageUrl,"MOBILE"!==Parameters.SiteType||
Parameters.IsCurrentHomePage||Parameters.InitialPageAlias===Parameters.DefaultPageAlias||"/site/"+Parameters.SiteAlias+"/"+Parameters.InitialPageAlias!==window.location.pathname||(l=location.pathname),n=new d(l),Parameters.IsSEOFriendlyLinks||(window.location.hash=n.pageID),null!=Parameters.CurrentLinkType&&(n.linkType=Parameters.CurrentLinkType),null!=Parameters.IsCurrentHomePage&&null!=n&&(Parameters.IsCurrentHomePage&&(n.linkType=Enum.LinkType.Home,n.pageUrl=h.getHomeLink()),l="\x3cdiv id\x3d'"+
a(s).attr("id")+"' class\x3d'"+a(s).attr("class")+"'\x3e"+a(s).html()+"\x3c/div\x3e",docWriteCalled||(n.pageContent={content:l,isHomePage:Parameters.IsCurrentHomePage,css:a("#pagestyle").html(),devicecss:a("#pagestyleDevice").html(),cssLink:a("#homeCssLink").attr("href"),alias:Parameters.InitialPageAlias,classic_link:Parameters.classicLink})));ca=n.pageUrlIdentifier;P.push(n.pageID);ea(n);if(-1==Parameters.NavigationAreaParams.NavbarSize||a.browser.opera)Parameters.NavigationAreaParams.NavbarSize=
Number.MAX_VALUE;fa=document.write;document.write=function(a){}}}function p(){null!=Parameters.AjaxContainer&&(s=Parameters.AjaxContainer,a(s).attr("ID",FIRST_CONTAINER_ID),s="#"+FIRST_CONTAINER_ID);null!=Parameters.WrappingContainer?ba=Parameters.WrappingContainer:(Parameters.AnimationTypeForward=Enum.AnimationType.None,Parameters.AnimationTypeBackward=Enum.AnimationType.None,Parameters.AnimationTypeInner=Enum.AnimationType.None);if(-1==Parameters.NavigationAreaParams.NavbarSize||a.ua.browser.name.contains("Opera"))Parameters.NavigationAreaParams.NavbarSize=
Number.MAX_VALUE;if(null!=Parameters.CurrentPageUrl){n=new d(Parameters.CurrentPageUrl);ca=n.pageUrlIdentifier;Parameters.IsSEOFriendlyLinks||(window.location.hash=n.pageID);ca=n.pageUrlIdentifier;P.push(n.pageID);ea(n);var l="\x3cdiv id\x3d'"+a(s).attr("id")+"' class\x3d'"+a(s).attr("class")+"'\x3e"+a(s).html()+"\x3c/div\x3e";docWriteCalled||(n.pageContent={content:l,isHomePage:Parameters.IsCurrentHomePage,css:a("#pagestyle").html(),devicecss:a("#pagestyleDevice").html(),cssLink:a("#homeCssLink").attr("href"),
alias:Parameters.InitialPageAlias,classic_link:Parameters.classicLink})}null!=Parameters.CurrentLinkType&&(n.linkType=Parameters.CurrentLinkType);Parameters.IsCurrentHomePage&&null!=n&&(n.linkType=Enum.LinkType.Home,n.pageUrl=h.getHomeLink())}function r(a){null==a&&(a="");for(var b=0;b<Parameters.LinksToAjaxExceptions.length;b++)if(-1!=a.indexOf(Parameters.LinksToAjaxExceptions[b])||-1!=unescape(a).indexOf(Parameters.LinksToAjaxExceptions))return!0;return!1}function v(l){var b=navigator.userAgent;
-1<b.indexOf("Mozilla/5.0")&&-1<b.indexOf("Android ")&&-1<b.indexOf("AppleWebKit")&&b.indexOf("Chrome");/(iPhone|iPad|iPod)\sOS\s6/.test(b);!1==Parameters.DisableLinks&&(a=N,h.updateWidth(),Parameters.AllowAjax&&(b=null,e()?Parameters.LinksToAjax="a[href^\x3d'/'], a[href^\x3d'#'], .u_dmStyle_backToHome":Parameters.LinksToAjax="a[href^\x3d'/site/'], a[href^\x3d'#/site/'], a[href^\x3d'#'], .u_dmStyle_backToHome",null!=l&&(b=Parameters.LinksToAjax,Parameters.LinksToAjax=l),a(Parameters.LinksToAjax).each(function(l){var b=
!1,c=null,d=null,z=a(this);z.closest(".dmNavTriggerButton");l=a.DM.isTouchDevice&&!a.DM.isIOS()?"touchend.navigate":"click.navigate";if(null!=z.attr("href")&&z.attr("href").startsWith("#")&&1<z.attr("href").length)z.attr("dmGoto",z.attr("href").replace("#","")),z.removeAttr("href"),z.css("cursor","pointer"),z.css("cursor","hand"),z.click(function(a){n.pageScrollTo=z.attr("dmGoto");n.scrollTo();null!=a&&a.stopPropagation()});else if(B(z.attr("onClick"))&&!r(z.attr("href"))&&"_blank"!=z.attr("target")&&
(!z.parent().is(".hasdmSub")||z.parent().is(".hasdmSub")&&!h.isUseLayout())&&(z.off("touchstart.navigate").on("touchstart.navigate",function(l){b=!1;c=l.originalEvent.targetTouches[0].screenX;d=l.originalEvent.targetTouches[0].screenY;h.isUseLayout()&&a.commonComponents.slideRightNav&&a.commonComponents.slideRightNav.onAjaxLinkTouchStart(z,l)}).off("touchmove.navigate").on("touchmove.navigate",function(l){if(10<Math.abs(l.originalEvent.targetTouches[0].screenY-d)||Math.abs(10<l.originalEvent.targetTouches[0].screenX-
c))b=!0,h.isUseLayout()&&a.commonComponents.slideRightNav&&a.commonComponents.slideRightNav.onAjaxLinkTouchMove(z,l)}),h.isUseLayout()&&!z.is("#slideDownNav a, #slideUpNav a"))){if("touchend.navigate"===l)z.off("click.navigate").on("click.navigate",function(a){a.stopPropagation();a.preventDefault();a.stopImmediatePropagation();return!1});z.off(l).on(l,function(a){var l=z.attr("href");return b?!1:q(l,z,a)})}}),null!=b&&(Parameters.LinksToAjax=b,b=null)))}function q(l,b,c){b=b||a("\x3cdiv\x3e\x3c/div\x3e");
l=l||b.attr("href");if(Parameters.AllowAjax){if(h.isUseLayout()&&(a.commonComponents.upperFloatingNav&&!a.commonComponents.upperFloatingNav.onAjaxLinkBeforeClick(b,c)||a.commonComponents.slideRightNav&&!a.commonComponents.slideRightNav.onAjaxLinkBeforeClick(b,c))||"#"==l)return!1;if(null!=c){var e=b;null!=e.attr("href")&&e.attr("href").startsWith("/site/")||c.stopPropagation();c.preventDefault()}null!=document.cookie&&-1!=document.cookie.indexOf("dm_show_classic")&&(document.location=a("#classic_link").attr("href"));
if(r(l))return!0;var f=l.indexOf("#"),e=null;-1!=f&&(e=l.substr(f+1));h.isUseLayout()&&(a.layoutManager.onAjaxLinkClick(b,c),a.layoutDevice.onAjaxLinkClick(b,c));c=unescape(k(l,"url"));C=la("null"!=c?c:l);null==C||"null"==C.pageUrl?C=new d(l):U&&(C=t(C));null!=e&&(C.pageScrollTo=e);l=C;c=b;var e=c.attr("class"),f=c.parent().attr("class"),w=c.parent().parent().attr("class");c.text();null==e?e="":"undefined"==typeof e&&(e="");null==f?f="":"undefined"==typeof f&&(f="");null==w?w="":"undefined"==typeof w&&
(w="");c=-1!=e.toLowerCase().indexOf(HOME_CLASS_IDENTIFIER.toLowerCase())||null!=Parameters.HomeLinksClasses&&-1!=e.toLowerCase().indexOf(Parameters.HomeLinksClasses.toLowerCase())?Enum.LinkType.Home:-1!=e.toLowerCase().indexOf(NAV_CLASS_IDENTIFIER.toLowerCase())||-1!=f.toLowerCase().indexOf(NAV_CLASS_IDENTIFIER.toLowerCase())||-1!=w.toLowerCase().indexOf(NAV_CLASS_IDENTIFIER.toLowerCase())?Enum.LinkType.Nav:Enum.LinkType.Other;l.linkType=c;C.pageAnimation="forward";l=b;(c=l.attr("animationType"))&&
""!=c||(c=l.attr("animationtype"));l="backward"==c?"backward":"forward"==c?"forward":"inner"==c?"inner":null;null!=l&&(C.pageAnimation=l);n=C;(1>b.parents("[disableLink]").length||"false"===b.parents("[disableLink]").attr("disableLink"))&&n.show()}else window.location.href=l}function t(a){var b=new d(a.pageUrl);b.pageUrl=a.pageUrl;b.pageContent=a.pageContent;b.ajaxCallComplete=a.ajaxCallComplete;b.linkType=a.linkType;b.pageUrlIdentifier=a.pageUrlIdentifier;b.pageID=a.pageID;b.pageScrollTo=a.pageScrollTo;
b.pageReady=a.pageReady;b.pageAnimation=a.pageAnimation;b.pageAlias=a.pageAlias;return b}function B(a){for(var b=0;b<ma.length;b++)if(a==ma[b])return!0;return!1}function x(l){a=N;l.ajaxCallCompleted=!1;if(null!=Parameters.BeforeAjaxCommand)try{Parameters.BeforeAjaxCommand()}catch(b){J("DMAjax says: before ajax command threw exception")}var c=l.pageUrl;a.ajax({contentType:"application/json; charset\x3d"+Parameters.Charset,dataType:"json",url:c+(c.contains("?")?"\x26":"?")+"dm_ajaxCall\x3dtrue",timeout:3E4,
error:function(l,b,d){l&&l.responseJSON&&"pageNotFound"===l.responseJSON.alias?window.location.href=c:(b="There was an error connecting to the page",401==l.status&&(b="Incorrect name/password combination"),a(s).replaceWith('\x3cdiv style\x3d"background:white;padding:8px"\x3e\x3ch4\x3e'+b+'.\x3c/h4\x3e\x3cbr/\x3e\x3ca  href\x3d""\x3eTry Again\x3c/a\x3e\x3c/div\x3e'),y(!1))},success:function(b,c,d){b.error_message?(a(s).replaceWith('\x3cdiv style\x3d"background:white;padding:8px"\x3e\x3ch4\x3e'+b.error_message+
'.\x3c/h4\x3e\x3cbr/\x3e\x3ca  href\x3d""\x3eTry Again\x3c/a\x3e\x3c/div\x3e'),y(!1)):(null!=b.redirect&&(window.location.href=b.redirect),l.ajaxCallComplete=!0,l.pageContent=b,l.pageAlias=b.alias,n=l,y())}})}function F(){var a=0;if(U)a=D.getSize();else{var a=0,b;for(b in D)a++}return a}function y(l){if(null!=l&&!l)return Y=!0,K(!1),!1;if(null!=n&&null!=n.pageContent&&n.pageReady){l="";try{l=n.pageContent.title||a("\x3cdiv\x3e"+n.pageContent.headsection+"\x3c/div\x3e").find("title").text()}catch(b){}a("title").text(l);
Parameters.IsSEOFriendlyLinks&&window.history&&window.history.pushState&&!n.dontPushState&&window.history.pushState({},l,n.pageUrl);a("#"+FIRST_CONTAINER_ID).css("display","none");a("#"+FIRST_CONTAINER_ID).html("");K(!1);-1!=n.pageContent.content.indexOf("document.write")&&(document.write=function(a){},document.writeln=function(a){});if(a("#"+TEMP_CONTAINER_ID).is(":hidden")){a("#"+FIRST_CONTAINER_ID).css("opacity","1");l=a(n.pageContent.content);try{var c=a(s);c.get(0).innerHTML=l.html();c.css("display",
"block");c.attr("class",l.attr("class"))}catch(d){console.log("DMAJAX: error on parsing server response into client element")}}else c=a("#"+TEMP_CONTAINER_ID),l=a("#"+FIRST_CONTAINER_ID),c.attr("id",FIRST_CONTAINER_ID),l.attr("id",TEMP_CONTAINER_ID),a("#"+FIRST_CONTAINER_ID).css("opacity","1"),a("#"+FIRST_CONTAINER_ID).css("left","0px"),a("#"+FIRST_CONTAINER_ID).css("height","auto"),a("#"+FIRST_CONTAINER_ID).css("width","auto"),a("#"+FIRST_CONTAINER_ID).css("position",""),s=a("#"+FIRST_CONTAINER_ID);
a("#"+TEMP_CONTAINER_ID).html("");a("#"+TEMP_CONTAINER_ID).css("display","none");a("#"+FIRST_CONTAINER_ID).css("top","0px");a("#"+FIRST_CONTAINER_ID).css("-webkit-transition-duration","0s");a("#"+FIRST_CONTAINER_ID).css("-webkit-transform",Parameters.trans+"(0px, 0px, 0px)");a("#"+TEMP_CONTAINER_ID).css("-webkit-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-webkit-transform",Parameters.trans+"(0px, 0px, 0px)");a("#"+FIRST_CONTAINER_ID).css("-moz-transition-duration","0s");a("#"+FIRST_CONTAINER_ID).css("-moz-transform",
"translate(0px, 0px)");a("#"+TEMP_CONTAINER_ID).css("-moz-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-moz-transform","translate(0px, 0px)");a("#"+FIRST_CONTAINER_ID).css("-o-transition-duration","0s");a("#"+FIRST_CONTAINER_ID).css("-o-transform","translate(0px, 0px)");a("#"+TEMP_CONTAINER_ID).css("-o-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-o-transform","translate(0px, 0px)");a("#"+FIRST_CONTAINER_ID).css("-ms-transition-duration","0s");a("#"+FIRST_CONTAINER_ID).css("-ms-transform",
"translate(0px, 0px)");a("#"+TEMP_CONTAINER_ID).css("-ms-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-ms-transform","translate(0px, 0px)");v();I(n);if(null!=Parameters.AfterAjaxCommand)try{Parameters.AfterAjaxCommand(n.pageContent)}catch(e){J("DMAjax says: after ajax command threw exception: "+e.message)}if("function"===typeof a.afterAjaxCall)try{a.afterAjaxCall(n.pageContent)}catch(f){J("DMAjax says: after ajax call threw exception: "+f.message)}if("function"===typeof a.DM.userOnPageReadyFn)try{a.DM.userOnPageReadyFn({isAjax:!0})}catch(g){J("DMAjax says: after ajax user function threw exception: "+
g.message)}try{a.DM.events.trigger("afterAjax")}catch(k){J("DMAjax says: after ajax event threw exception: "+k.message)}h.isUseLayout()&&a.layoutManager.layoutAfterAjax(n.pageContent);"function"==typeof styleImages&&(styleImages(),setTimeout("styleImages()",300),setTimeout("styleImages()",2E3),setTimeout("styleImages()",5E3));jQuery.DM.updateIOSHeight();try{if(0<a("#shareSection").length||0<a(".dmShare").length)jQuery.getScript("https://platform.twitter.com/widgets.js"),IN.parse(),gapi&&gapi.plusone.go()}catch(qa){J("DMAjax says: after ajax share reload threw exception: "+
qa.message)}try{var m=jQuery.Event("readystatechange");jQuery("document").trigger(m);m=jQuery.Event("onload");jQuery("window").trigger(m)}catch(q){J("DMAjax says: after ajax onload threw exception: "+q.message)}try{h.afterAjaxGeneralInits(),h.afterAjaxGeneralLoadInits()}catch(p){J("DMAjax says: after ajax after ajax general inits threw exception: "+p.message)}Y=!0;F()<Parameters.CacheSize&&ea(n);n.scrollTo();A();if("undefined"!==typeof previewPopUp&&window.editorParent.$&&window.editorParent.$.dmx&&
window.editorParent.$.dmfw){var m=window.location.origin,t=Parameters.HomeUrl.trim().replace("?preview\x3dtrue",""),m=m+("/site/"+window.editorParent.$.dmx.site.alias+"?preview\x3dtrue\x26dm_try_mode\x3dtrue\x26url\x3d"),m=m+encodeURIComponent(n.pageUrl);window.editorParent.$.previewExternalLink.setLastEditePage(m);a("#dm").find("a").on("click",function(l){"slideDownNav"!==a(this).closest("div").attr("id")&&""<a(this).attr("href")&&"false"==a(this).attr("dm_dont_rewrite_url")&&-1<a(this).attr("href").indexOf("/site/")+
a.dmx.site.alias&&-1==a(this).attr("href").indexOf(t)&&0==a(this).attr("href").indexOf("http")&&window.editorParent.$.dmfw.previewExternalLink.setBackFromExternal(!0)})}try{null!=_gaq&&dm_gaq_push_url(n.pageUrl)}catch(va){J("DMAjax says: gaq is not defined on dev mode, ignore this error")}}}function A(){if(Parameters.AllowAjax&&!Parameters.IsSEOFriendlyLinks&&(!a.browser.msie||8<=a.browser.version||8<=document.documentMode))return a.history.load(n.pageUrlIdentifier),!1}function L(l,b,c,d){a=N;null==
c&&(c=!0);try{getInnerActiveAd("ad","")}catch(e){}d&&a("#"+TEMP_CONTAINER_ID).css("display","block");l.linkType==Enum.LinkType.Home||"backward"==l.pageAnimation?R[Parameters.AnimationTypeBackward].animateIn(l,b):l.linkType==Enum.LinkType.Other||"inner"==l.pageAnimation?R[Parameters.AnimationTypeInner].animateIn(l,b):l.linkType!=Enum.LinkType.Nav&&"forward"!=l.pageAnimation&&null!=l.pageAnimation||R[Parameters.AnimationTypeForward].animateIn(l,b);c?P.push(l.pageID):P.pop()}function I(l){l.pageContent&&
l.pageContent.url_redirect?window.location.href=l.pageContent.url_redirect:(null==l.pageContent&&(l.pageContent=n.pageContent),l.pageContent.css=l.pageContent.css||"",l.pageContent.devicecss=l.pageContent.devicecss||"",!a.browser.msie||11<=a.browser.version?(a("#pagestyle").html(l.pageContent.css),a("#pagestyleDevice").html(l.pageContent.devicecss)):(a("#pagestyle").get(0).styleSheet.cssText=l.pageContent.css,a("#pagestyleDevice").get(0).styleSheet.cssText=l.pageContent.devicecss),a("#homeCssLink").remove(),
l.pageContent.cssLink&&a("#pagestyle").before('\x3clink id\x3d"homeCssLink" type\x3d"text/css" rel\x3d"stylesheet" href\x3d"'+l.pageContent.cssLink+'"/\x3e'),l.pageContent.isHomePage?a(".dm-bfs").addClass("dm-layout-home").removeClass("dm-layout-sec"):a(".dm-bfs").removeClass("dm-layout-home").addClass("dm-layout-sec"),G(l))}function G(l){0<a("#classic_link").length&&(null==l.pageContent.classic_link||"none"==l.pageContent.classic_link||""==l.pageContent.classic_link?a(".classicWrapper").hide():(a(".classicWrapper").show(),
l.pageContent.classic_link&&a("#classic_link").attr("href",l.pageContent.classic_link)))}function E(l){a(l.target).off("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd");n.pageReady=!0;l=a("#iscrollBody");l.hasClass("noScroll")&&l.removeClass("noScroll").css({height:"auto","-webkit-transform":"translate(0, 0)","-moz-transform":"translate(0, 0)","-ms-transform":"translate(0, 0)","-o-transform":"translate(0, 0)",transform:"translate(0, 0)"});K(!0);W();y()}function W(){0==(X()&&H!=Enum.AgentType.Android?
a("#disabledImageZone:in-viewport"):a("#loading:in-viewport")).length&&a("body, html").scrollTop(0)}function K(l,b,c,d){a=N;null==c&&(c=!0);if(X()&&H!=Enum.AgentType.Android){var e=a("#disabledImageZone");0<e.length&&(l?(e.css("position","absolute"),e.changeDisplay("block"),e.css("z-index","100000"),null==b?(e.css("left",O()/2+"px"),e.css("top",a(window).height()/2+"px")):(e.css("left",b[0]+"px"),e.css("top",b[1]+"px")),c&&setLoaderSize(10,3),d||S()):e.changeDisplay("none"))}else c=a("#"+FIRST_CONTAINER_ID),
d=a("#loading"),l?(0==d.length&&(d=a(document.createElement("div")),d.attr("id","loading"),d.css("background","url('/_dm/s/rt/images/nav-loader.gif') no-repeat center"),d.css("position","absolute"),d.css("z-index","999999"),d.css("width","43px"),d.css("height","40px"),c.parent().append(d)),null==b?(d.css("left",c.width()/2-7+"px"),H==Enum.AgentType.Android&&d.css("left",c.width()/2-28+"px"),d.css("top",c.offset().top+20+"px")):(d.css("left",b[0]-28+"px"),d.css("top",b[1]+"px")),d.changeDisplay("block")):
0<d.length&&d.changeDisplay("none")}function S(a){var b=255;try{b=null==a?h.getScreenBrigthness():h.getScreenBrigthness(a)}catch(c){J("DMAjax says: unable to determine the screen brigthness, check background colors")}125<b?setLoaderColor("rgb(0,17,17)"):setLoaderColor("rgb(255,238,238)")}function M(a){var b=null;return b=U?JSON.parse(D.getItem(a)):D[a]}function la(a){try{if(U)for(var b in D.getStorage()){if(JSON.parse(D.getItem(b)).pageUrl==a)return JSON.parse(D.getItem(b))}else for(b in D){var c=
D[b].pageUrl;-1!=D[b].pageUrl.indexOf("?url\x3d")&&(c=unescape(k(D[b].pageUrl,"url")));if(c==a)return D[b]}}catch(d){}return null}function ea(a){null==M(a.pageID)&&F()<Parameters.CacheSize&&(U?(-1!=a.pageUrl.indexOf("url\x3d")?a.pageUrl=unescape(k(a.pageUrl,"url")):a.pageUrl=unescape(a.pageUrl),D.setItem(a.pageID,JSON.stringify(a))):D[a.pageID]=a)}function V(){var a;self.pageYOffset?a=self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?a=document.documentElement.scrollTop:
document.body&&(a=document.body.scrollTop);return a}function Q(){return na("innerHeight","clientHeight")}function O(){return na("innerWidth","clientWidth")}function ra(){var b=a(Parameters.SidebarParams.SidebarSelector);"0"==b.css("opacity")?b.changeDisplay("none"):"1"==b.css("opacity")&&b.changeDisplay("block")}function na(b,c){var d=a("body"),e=d.css("width").length;try{if(void 0!==window[b])return window[b];var f=document.documentElement;if(f&&f[c])return f[c];if(document.body[c]!=undefiened)return document.body[c];
if("innerWidth"===b||"innerHeight"===b)return d.css("width").substr(0,e-2)}catch(w){if("innerWidth"==b||"innerHeight"==b)return d.css("width").substr(0,e-2)}}function pa(a,b,c){var d;null==c&&(c=!1);if(c)for(c=0;c<b.get(0).attributes.length;c++)try{d=b.get(0).attributes[c],b.removeAttr(d.name)}catch(e){}for(c=0;c<a.attributes.length;c++)try{d=a.attributes[c],b.attr(d.name,d.value)}catch(f){}}function ga(b){var c=a("#dmBackToTop");400>b?(c.css("opacity","0"),c.css("visibility","hidden")):(c.css("opacity",
"1"),c.css("visibility","visible"))}function Z(b){null==b&&(b=!1);var c=a(Parameters.NavigationAreaParams.NavbarSelector),d=Parameters.NavigationAreaParams.NavbarSize;b&&(c=a(Parameters.NavigationAreaParams.SubNavbarSelector));var e=c;if(0<e.length){var f=c.children("li:has(a):not(.dmHideFromNav)");a.layoutDevice&&(f=f.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));0==f.length&&(f=c.children("a"));if("inline"==f.eq(0).css("display")&&"block"!=f.eq(0).children(":first-child").css("display"))e.length=
0;else{var w=e.find(".dmLess");0==w.length&&(w=e.find("#dmNavigationLessAnchor"));0<w.length&&w.remove();w=e.find(".dmMore");0==w.length&&(w=e.find("#dmNavigationMoreAnchor"));0<w.length&&w.remove();var h=!1,g=0,k=0,m=0,q=0,p=null;f.length>d+1?f.each(function(b){var l=a(this);if(1==this.nodeType)if(0==b&&("inline-block"==l.css("display")&&l.css("display"),p=l.clone().css("display",l.css("display")).css("float",l.css("float"))),b>=d)q++,ha()?(l.changeDisplay("none"),l.addClass("dmNavCollapsedItem"),
l.removeClass("dmNavShownItem"),l.removeClass("p_list_last")):(b==d&&(k=l.offset().top-k-m,g+=m+k),l.changeDisplay("none"),l.addClass("dmNavCollapsedItem"),l.removeClass("dmNavShownItem"),l.css("position","relative"),l.removeClass("p_list_last"),l.hasClass("dmNavigationMoreAnchor")||l.hasClass("dmMore")||(l.css("position","relative"),l.removeClass("p_list_last"),l.addClass("p_list_item"),l.changeDisplay("none"),T(e,p)&&(l.css("-webkit-transition",""),l.css("-webkit-transform",""),l.css("opacity",
"0"),l.css("-moz-transition",""),l.css("-moz-transform",""),l.css("-o-transition",""),l.css("-o-transform",""),l.css("-ms-transition",""),l.css("-ms-transform",""),b=function(){l.changeDisplay("none")},l.bind("webkitTransitionEnd",b),l.bind("transitionend",b),l.bind("oTransitionEnd",b))),T(e,p)&&l.css("top",-g+"px"),g+=l.height()+k,l.changeDisplay("none")),h=!0;else if(b==d-1){if(l.addClass("dmNavShownItem"),!a.browser.msie||11<=1*a.browser.version)k=l.offset().top,m=l.height()}else l.addClass("dmNavShownItem")}):
f.addClass("dmNavShownItem");h&&(b=ia(c,"more",b),e.filter(":not('#hiddenNavPlaceHolder *')").children("li").eq(-1).after(b));var t=[];e.find("li").each(function(b,l){var c=a(this);"inline-block"==c.css("display")?(t[b]=!0,c.css("display","inline")):t[b]=!1});e.find("li").each(function(b,l){if(t[b]){var c=a(this);"inline"==c.css("display")&&c.css("display","inline-block")}})}}}function ha(){return!(a.browser.msie&&11>a.browser.version)&&X()||a.browser.mozilla?!1:!0}function ja(){if(0==a(Parameters.NavigationAreaParams.BlockContainerSelector).length||
0<a(Parameters.HomeLinkSelector).length)return!1;var b=a("\x3ca\x3e\x3c/a\x3e");b.addClass("dmHome");b.changeDisplay("block");b.attr("href",h.getHomeLink());b.html("\x3cspan class\x3d'icon'\x3e\x3c/span\x3e\x3cspan id\x3d'DM_HomeText' class\x3d'text'\x3e"+Parameters.HomeLinkText+"\x3c/span\x3e");a(Parameters.NavigationAreaParams.BlockContainerSelector).prepend(b);v(Parameters.HomeLinkSelector)}function ia(b,c,d){null==d&&(d=!1);var e=a("#navAnchor");0==e.length&&(e=a("\x3ca\x3e\x3c/a\x3e"),e.attr("name",
"nav"),e.attr("id","navAnchor"),e.insertBefore(b.parent()));e=b.children("li:has(a):not(.dmHideFromNav)");a.layoutDevice&&(e=e.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));var f="li";0==e.length&&(e=b.children("a"),f="a");var w=a([]);if("li"==f){0==w.length&&(w=a('\x3cli class\x3d"p_list_item p_list_last dmNavShownItem"\x3e\x3c/li\x3e'));var g=e.eq(Parameters.NavigationAreaParams.NavbarSize-1).find("a").attr("className");"undefined"===typeof g&&(g=e.eq(Parameters.NavigationAreaParams.NavbarSize-
1).find("a").attr("class"));g=e.eq(Parameters.NavigationAreaParams.NavbarSize-1).css("display");e.eq(Parameters.NavigationAreaParams.NavbarSize-1).height();"more"==c?(f=(f=b.attr("dmmoreicon"))?" fontIcon hasFontIcon "+f:"",w.addClass("dmMore"),w.removeClass("dmLess"),w.attr("id","dmMore"),w.html('\x3ca onclick\x3d"jQuery.DM.expandNavigation('+d+");$.DM.afterExpandCollapse();return false;\" href\x3d\"#\" class\x3d'dmUDNavigationItem_dmMore dmMorea dmNavigationMoreAnchor'\x3e\x3cdiv class\x3d'navIconBg'\x3e\x3cdiv class\x3d'navIcon "+
f+"'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d'dmMoreNavText' class\x3d'navText'\x3e"+Parameters.NavigationAreaParams.MoreButtonText+"\x3c/div\x3e\x3cdiv class\x3d'navArrowBg'\x3e\x3cdiv class\x3d'navArrow'\x3e\x3c/div\x3e\x3cdiv class\x3d'navArrowBottom'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/a\x3e")):"less"==c&&(f=(f=b.attr("dmlessicon"))?" fontIcon hasFontIcon "+f:"",w.addClass("dmLess"),w.removeClass("dmMore"),w.attr("id","dmLess"),w.html("\x3ca id\x3d'dmLess' onclick\x3d\"jQuery.DM.collapseNavigation("+
d+");$.DM.afterExpandCollapse();return false;\" href\x3d\"#\" class\x3d'dmUDNavigationItem_dmLess dmLessa dmNavigationLessAnchor'\x3e\x3cdiv class\x3d'navIconBg'\x3e\x3cdiv class\x3d'navIcon "+f+"'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d'dmLessNavText' class\x3d'navText'\x3e"+Parameters.NavigationAreaParams.LessButtonText+"\x3c/div\x3e\x3cdiv class\x3d'navArrowBg'\x3e\x3cdiv class\x3d'navArrow'\x3e\x3c/div\x3e\x3cdiv class\x3d'navArrowBottom'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/a\x3e"))}else"a"==f&&
(0==w.length&&(w=a('\x3ca class\x3d"p_list_item p_list_last"\x3e\x3c/a\x3e')),g=e.eq(Parameters.NavigationAreaParams.NavbarSize-1).attr("className"),"undefined"===typeof g&&(g=e.eq(Parameters.NavigationAreaParams.NavbarSize-1).attr("class")),g=e.eq(Parameters.NavigationAreaParams.NavbarSize-1).css("display"),e.eq(Parameters.NavigationAreaParams.NavbarSize-1).height(),"more"==c?(w.attr("id","dmMore"),w.addClass("dmNavigationMoreAnchor"),w.addClass("dmMore"),w.removeClass("dmLess"),w.unbind("click").click(function(a){jQuery.DM.expandNavigation(d)}),
w.text(Parameters.NavigationAreaParams.MoreButtonText)):"less"==c&&(w.attr("id","dmLess"),w.addClass("dmNavigationLessAnchor"),w.addClass("dmLess"),w.removeClass("dmMore"),w.unbind("click").click(function(a){jQuery.DM.collapseNavigation(d)}),w.text(Parameters.NavigationAreaParams.LessButtonText)),w.css("cursor","pointer"));T(b,e.eq(0))&&w.css("position","relative");w.changeDisplay(g);"more"==c&&T(b,e.eq(0))&&w.css("opacity","1");"less"==c&&T(b,e.eq(0))&&w.css("opacity","0");return w}function T(a,
b){return X()&&b.css("display")&&-1==b.css("display").indexOf("inline")&&a.css("display")&&-1==a.css("display").indexOf("inline")&&-1==b.css("display").indexOf("table")&&("none"==b.css("float")||""==b.css("float"))?!0:!1}function X(){return a.browser.chrome||a.browser.safari||a.browser.mozilla||a.browser.opera||a.browser.msie&&9<a.browser.version?!0:!1}function J(){if(0<arguments.length)return 1<arguments.length&&Array.prototype.join.call(arguments," "),!0}function oa(a,b){if(!a.startsWith("PhotoSwipe")&&
(null==n||a!=n.pageID&&n.pageUrl&&"null"!=n.pageUrl&&n.pageUrl!=Parameters.HomeUrl&&n.pageUrl!=h.getHomeLink())&&(null==C||C.pageReady))if(C=M(a),null!=C)C=t(C),null!=C.pageContent&&(C.equals(n)||(C.pageAnimation="backward"),C.show());else if(b)if(Parameters.AllowAjax){var c=new d(b);c.dontPushState=!0;c.show()}else window.location.href=b;else C=M(ca),null!=C&&(C=t(C),C.pageAnimation="backward",C.show())}function da(b){null==b&&(b=!1);var c=[0,0];if(b||jQuery.DM.isBodyScrollable())"undefined"!=typeof window.pageYOffset?
c=[window.pageXOffset,window.pageYOffset]:"undefined"!=typeof document.documentElement.scrollTop&&0<document.documentElement.scrollTop?c=[document.documentElement.scrollLeft,document.documentElement.scrollTop]:"undefined"!=typeof document.body.scrollTop&&(c=[document.body.scrollLeft,document.body.scrollTop]);else try{c=a.layoutManager&&a.layoutManager.isNee()||!1==a.layoutDevice.components.iscrollBody.isUseIscroll?[jQuery.layoutManager.getLayoutElement().iscrollBody.element.scrollLeft(),jQuery.layoutManager.getLayoutElement().iscrollBody.element.scrollTop()]:
[Math.abs(jQuery.layoutManager.getLayoutElement().iscrollBody.iscrollObject.x),Math.abs(jQuery.layoutManager.getLayoutElement().iscrollBody.iscrollObject.y)]}catch(d){c=[0,0]}return c}function sa(){Parameters.AllowAjax&&(a.history.init(oa),A())}d.prototype.equals=function(a){return this.pageUrl==a.pageUrl};d.prototype.render=function(){K(!0);x(this,!1)};d.prototype.show=function(b){if(null!=n)if(null==b&&(b=!0),Y=!1,n=this,null!=fa&&(document.write=fa),null==this.pageContent)a("#"+TEMP_CONTAINER_ID).html(""),
a("#"+TEMP_CONTAINER_ID).css("display","none"),x(this),L(this,!0,b,!1);else{var c=a(this.pageContent.content);a("#"+TEMP_CONTAINER_ID).attr("class",c.attr("class"));a("#"+TEMP_CONTAINER_ID).html(c.html());a("#"+TEMP_CONTAINER_ID).css("display","none");c=0;if(h.isUseLayout()){var c=c+a.layoutDevice.getTopFixedElementsOffset(),d=a(".freeHeader");0<d.length&&(c+=d.outerHeight());a("#"+TEMP_CONTAINER_ID).offset({top:c})}else a("#"+FIRST_CONTAINER_ID).offset();a("#"+TEMP_CONTAINER_ID).width(a(s).width());
a("#"+TEMP_CONTAINER_ID).height(a(window).height());a("#"+TEMP_CONTAINER_ID).css("position","absolute");L(this,!1,b,!0)}};d.prototype.scrollTo=function(){if(null!=this.pageScrollTo&&0<this.pageScrollTo.length){var b=a("#"+this.pageScrollTo);0==b.length&&(b=a("a[name\x3d"+this.pageScrollTo+"]"));a.DM.scrollPreviewToElement(b)}};var s=null,ba=null,n=null,C=null,N=a,Y=!1,D={},P=[],U=!1,ta="/site/wrap /site/classic fw_comments_page /profile/messages/compose /profile/messages/compose /site/sms /site/emailShare apps%2Fauth%2Fsignup /_dm/rt".split(" "),
ua=["/_dm/rt","/site/classic"],ma=[null,"","return true;","return true"],R=[];R[Enum.AnimationType.None]=new function(){this.animateIn=function(b,c){a=N;n.pageReady=!0;K(c);W();y()}};R[Enum.AnimationType.SlideLeft]=new function(){this.animateIn=function(b){a=N;b=a(ba);a(s).css("opacity","1");a("#"+TEMP_CONTAINER_ID).css("opacity","1");a("#"+TEMP_CONTAINER_ID).css("-webkit-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-moz-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-o-transition-duration",
"0s");a("#"+TEMP_CONTAINER_ID).css("-ms-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-webkit-transform","translate3d("+b.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-moz-transform","translate3d("+b.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-o-transform","translate3d("+b.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-ms-transform","translate3d("+b.outerWidth()+"px, 0, 0)");a(s).css("-webkit-transition-duration","0.4s");a(s).css("-webkit-transform","translate3d("+
-b.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-webkit-transition-duration","0.4s");a("#"+TEMP_CONTAINER_ID).css("-webkit-transform","translate3d(0, 0, 0)");a(s).css("-moz-transition-duration","0.4s");a(s).css("-moz-transform","translate("+-b.outerWidth()+"px, 0)");a("#"+TEMP_CONTAINER_ID).css("-moz-transition-duration","0.4s");a("#"+TEMP_CONTAINER_ID).css("-moz-transform","translate(0, 0)");a(s).css("-o-transition-duration","0.4s");a(s).css("-o-transform","translate("+-b.outerWidth()+
"px, 0px)");a("#"+TEMP_CONTAINER_ID).css("-o-transition-duration","0.4s");a("#"+TEMP_CONTAINER_ID).css("-o-transform","translate(0px, 0px)");a(s).css("-ms-transition-duration","0.4s");a(s).css("-ms-transform","translate3d("+-b.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-ms-transition-duration","0.4s");a("#"+TEMP_CONTAINER_ID).css("-ms-transform","translate3d(0, 0, 0)");a(s).unbind("webkitTransitionEnd").one("webkitTransitionEnd",E);a(s).unbind("transitionend").one("transitionend",E);
a(s).unbind("oTransitionEnd").one("oTransitionEnd",E)}};R[Enum.AnimationType.SlideRight]=new function(){this.animateIn=function(b){a=N;b=a(ba);a(s).css("opacity","1");a("#"+TEMP_CONTAINER_ID).css("opacity","1");a("#"+TEMP_CONTAINER_ID).css("-webkit-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-moz-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-o-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-ms-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-webkit-transform",
"translate3d("+-b.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-moz-transform","translate3d("+-b.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-o-transform","translate3d("+-b.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-ms-transform","translate3d("+-b.outerWidth()+"px, 0, 0)");a(s).css("-webkit-transition-duration","0.4s");a(s).css("-webkit-transform","translate3d("+b.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-webkit-transition-duration","0.4s");a("#"+
TEMP_CONTAINER_ID).css("-webkit-transform","translate3d(0, 0, 0)");a(s).css("-moz-transition-duration","0.4s");a(s).css("-moz-transform","translate("+b.outerWidth()+"px, 0)");a("#"+TEMP_CONTAINER_ID).css("-moz-transition-duration","0.4s");a("#"+TEMP_CONTAINER_ID).css("-moz-transform","translate(0, 0)");a(s).css("-o-transition-duration","0.4s");a(s).css("-o-transform","translate("+b.outerWidth()+"px, 0px)");a("#"+TEMP_CONTAINER_ID).css("-o-transition-duration","0.4s");a("#"+TEMP_CONTAINER_ID).css("-o-transform",
"translate(0px, 0px)");a(s).css("-ms-transition-duration","0.4s");a(s).css("-ms-transform","translate3d("+b.outerWidth()+"px, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-ms-transition-duration","0.4s");a("#"+TEMP_CONTAINER_ID).css("-ms-transform","translate3d(0px, 0, 0)");a(s).unbind("webkitTransitionEnd").one("webkitTransitionEnd",E);a(s).unbind("transitionend").one("transitionend",E);a(s).unbind("oTransitionEnd").one("oTransitionEnd",E)}};R[Enum.AnimationType.Rotate]=new function(){this.animateIn=function(b){a=
N;a(s).css("opacity","1");a("#"+TEMP_CONTAINER_ID).css("opacity","0");a("#"+TEMP_CONTAINER_ID).css("-webkit-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-moz-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-o-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-ms-transition-duration","0s");a("#"+TEMP_CONTAINER_ID).css("-webkit-transform","translate3d(0, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-moz-transform","translate3d(0, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-o-transform",
"translate3d(0, 0, 0)");a("#"+TEMP_CONTAINER_ID).css("-ms-transform","translate3d(0, 0, 0)");a(s).css("-webkit-transform-style","preserve-3d");a(s).css("-webkit-transition-duration","0.4s");a(s).css("-webkit-transform","rotate3d(0,1,0,180deg)");a(s).css("-moz-transform-style","preserve-3d");a(s).css("-moz-transition-duration","0.4s");a(s).css("-moz-transform","rotate(180deg)");a(s).css("-o-transform-style","preserve-3d");a(s).css("-o-transition-duration","0.4s");a(s).css("-o-transform","rotate(180deg)");
a(s).css("-ms-transform-style","preserve-3d");a(s).css("-ms-transition-duration","0.4s");a(s).css("-ms-transform","rotate3d(0,1,0,180deg)");a(s).css("opacity","0");a(s).unbind("webkitTransitionEnd").one("webkitTransitionEnd",E);a(s).unbind("transitionend").one("transitionend",E);a(s).unbind("oTransitionEnd").one("oTransitionEnd",E)}};R[Enum.AnimationType.Fade]=new function(){this.animateIn=function(b){function c(b){a("#"+TEMP_CONTAINER_ID).css("opacity","1");E(b)}a=N;b=a("#"+TEMP_CONTAINER_ID);a(s).css("opacity",
"1");b.css("opacity","0");b.css("-webkit-transition-duration","0s");b.css("-moz-transition-duration","0s");b.css("-o-transition-duration","0s");b.css("-ms-transition-duration","0s");b.css("-webkit-transform",Parameters.trans+"(0, 0, 0)");b.css("-moz-transform","translate3d(0, 0, 0)");b.css("-o-transform","translate3d(0, 0, 0)");b.css("-ms-transform","translate3d(0, 0, 0)");a(s).css("-webkit-transition-duration","0.4s");a(s).css("-webkit-transform",Parameters.trans+"(0, 0, 0)");b.css("-webkit-transition-duration",
"0.4s");b.css("-webkit-transform",Parameters.trans+"(0, 0, 0)");a(s).css("-moz-transition-duration","0.4s");a(s).css("-moz-transform","translate(0, 0)");b.css("-moz-transition-duration","0.4s");b.css("-moz-transform","translate(0, 0)");a(s).css("-o-transition-duration","0.4s");a(s).css("-o-transform","translate(0px, 0px)");b.css("-o-transition-duration","0.4s");b.css("-o-transform","translate(0px, 0px)");a(s).css("-ms-transition-duration","0.4s");a(s).css("-ms-transform","translate3d(0, 0, 0)");b.css("-ms-transition-duration",
"0.4s");b.css("-ms-transform","translate3d(0, 0, 0)");a(s).css("opacity","0");a(s).unbind("webkitTransitionEnd").one("webkitTransitionEnd",c);a(s).unbind("transitionend").one("transitionend",c);a(s).unbind("oTransitionEnd").one("oTransitionEnd",c)}};var ca="0000",H=Enum.AgentType.Other,h={},fa=null;a.extend({DM:h});try{Object.defineProperty(h,"events",{get:function(){return a("body")}})}catch(wa){h.events=a("body")}h.setParameters=function(){Parameters.AllowAjax?u():p()};h.enableAnimations=function(){Parameters.AnimationTypeForward=
Enum.AnimationType.Fade;Parameters.AnimationTypeBackward=Enum.AnimationType.Fade;Parameters.AnimationTypeInner=Enum.AnimationType.Fade};h.disableAnimations=function(){Parameters.AnimationTypeForward=Enum.AnimationType.None;Parameters.AnimationTypeBackward=Enum.AnimationType.None;Parameters.AnimationTypeInner=Enum.AnimationType.None};h.updateWidth=function(){var b=a(window).width();a("body").css("min-width",b);h.isUseLayout()&&a("#"+TRANS_CONTAINER_ID).width(b)};h.updateIOSHeight=function(b,c){b=b||
a(window).height();c=c||a(window).width();jQuery("#iOSWrapper").css("height",b);a("body").css("min-width",c);"undefined"!=typeof myScroll&&(setTimeout("myScroll.refresh();",100),setTimeout("myScroll.refresh();",1E3),setTimeout("myScroll.refresh();",5E3))};h.updateWidthAndHeight=function(a,b){h.updateWidth();h.updateIOSHeight(a,b)};h.updateAfterInit=function(){h.updateWidth();h.isUseIscroll()&&a.layoutManager.refreshIscroll()};h.isCurrentHomePage=function(){var a=!0;n&&null!=n.pageContent?a=n.pageContent.isHomePage:
n&&(a=n.linkType==Enum.LinkType.Home);return a};h.getHomeLink=function(){var a,b=window.location.toString();a="";var c=k(b,"dm_try_mode"),d=k(b,"dm_package"),b=k(b,"fw_sig_tier");null!=c&&(a+="dm_try_mode\x3d"+c);null!=d?a+="dm_package\x3d"+d:null!=b&&(a+="fw_sig_tier\x3d"+b);0<a.length&&(a="\x26"+a);return Parameters.HomeUrl+"?url\x3d"+Parameters.NavigationAreaParams.NavbarLiveHomePage+a};h.jumpTo=function(b,c){try{c=c||0,a("body, html").scrollTop(a(b).offset().top+c)}catch(d){}};h.executeAjaxCommand=
function(b,c,d){a=N;a.ajax({url:b,contentType:"application/json",dataType:"json",success:function(a){c(a)},error:function(a,b,c){d(a,b,c);J("DMAjax says: an external ajax command has returned with failure: "+a.responseText)}})};h.setLoadingOnScreen=function(a,b,c,d){K(a,b,c,d)};h.getPageScrollY=function(){return V()};h.getPageHeight=function(){return Q()};h.getPageWidth=function(){return O()};h.blackScreen=function(b){var c=a("#"+GALLERY_BLACK_CONTAINER_ID);0<c.length&&(b?(c.changeDisplay("block"),
c.height(V()+Q()+100)):c.changeDisplay("none"))};h.initAjaxLinks=function(a){v(a)};h.setCachedPageContent=function(a,b){-1!=a.indexOf("url\x3d")&&(a=unescape(k(a,"url")));var c=la(a);null!=c&&(c.pageContent=b)};h.hasMoreLessButtons=function(){return 0<jQuery(".dmMore").length||0<jQuery(".dmLess").length};h.assignLoaderColor=function(a){S(a)};h.backToMenuButtonWasClicked=function(b){a("#expandableSubDiv").toggle(b);a("#expandableMainDiv").toggle(!b);a("#expandableNavigationContainer").parent().attr("movedToMain",
b?"":"true");_afterExpandCollapse()};h.openCloseRSS=function(b){b=a(b).parent();var c=b.attr("_oldHeight");c&&0<c.length?(b.attr("_oldHeight",""),b.attr("style",""),b.find(".dmListItemDescriptionDiv:first").css("max-height",c),b.parent().removeClass("parentOfOpenDescription")):(b.attr("_oldHeight",b.find(".dmListItemDescriptionDiv:first").css("max-height")),b.attr("style",""),b.find(".dmListItemDescriptionDiv:first").css("max-height","none"),b.parent().addClass("parentOfOpenDescription"));a.DM.afterExpandCollapse()};
h.expandableMenuWasClicked=function(b){var c=a("#expandableNavigationContainer"),d=c.parent();b=void 0===b?!c.hasClass("expandableMenuOpen"):b;c.unbind("webkitTransitionEnd");c.unbind("transitionend");c.unbind("oTransitionEnd");var e=a("#"+GALLERY_BLACK_CONTAINER_ID);0==e.length&&(e=a('\x3cdiv ID\x3d"'+GALLERY_BLACK_CONTAINER_ID+'"\x3e\x3c/div\x3e'),e.css("position","absolute"),e.changeDisplay("none"),e.css("overflow","hidden"),e.css("left","0px").css("top","0px"),e.css("background-color","black"),
e.css("opacity","0.5"),e.css("z-index","99999"),e.changeDisplay("none"),e.css("width",a(window).width()+"px").css("height","100%"),e.attr("class","dmNoMargin"),a("#dmFirstContainer").append(e).css("position","relative"),e.unbind("click").click(function(){jQuery.DM.expandableMenuWasClicked()}),a(window).unbind("resize.expand").bind("resize.expand",function(){c.css("width",a(window).width()+"px");e.css("width",a(window).width()+"px")}));b?(c.show(),e.changeDisplay("block"),e.height("height","100%"),
c.css("width",a(window).width()+"px"),a(".dmInner").css("background-color"),d.css("z-index","999999998"),d.css("position","relative"),c.addClass("expandableMenuOpen"),c.removeClass("expandableMenuClose"),d.addClass("expandableParentMenuOpen"),d.removeClass("expandableParentMenuClose")):(c.addClass("expandableMenuClose"),c.removeClass("expandableMenuOpen"),d.addClass("expandableParentMenuClose"),d.removeClass("expandableParentMenuOpen"),d.attr("movedToMain")&&(a("#expandableSubDiv").show(),a("#expandableMainDiv").hide(),
d.attr("movedToMain","")),e.changeDisplay("none"),setTimeout(function(){c.css("width","");c.hide()},0));a.DM.afterExpandCollapse()};h.loadTwitterWidget=function(a){h.initTwitterFeedInternal({},[a])};h.loadImageSlider=function(a,b){b=b||{};h.initImageSliderInternal([a],!1,b)};h.afterDropPositionFoundHook=function(){h.isUseLayout()&&a.layoutManager.afterDropPositionFoundHook()};h.afterExpandCollapse=function(){jQuery.DM.isUseLayout()&&(a.layoutManager.cssCalculations(),h.isUseIscroll()&&a.layoutManager.refreshIscroll());
afterExpCol&&afterExpCol()};h.handleExpandingNav=function(b){var c=b.context;b=b.isOpen;if(navigator.userAgent.toLowerCase().match(/(iPad|iPhone|iPod)/i))if(b)c.currentVideoElement=a('video[controls\x3d"controls"]'),c.currentVideoElement.addClass("toPixel"),c.clickToCallArray=a('a[href^\x3d"tel:"]').map(function(b){b=a(this);var c=b.attr("href");b.removeAttr("href");return{element:b,href:c}}),c.textInputsArray=a('input[type\x3d"text"]'),c.textInputsArray.addClass("toPixel");else{try{c.currentVideoElement&&
(c.currentVideoElement.removeClass("toPixel"),c.currentVideoElement=void 0)}catch(d){}try{c.clickToCallArray&&(a.each(c.clickToCallArray,function(a,b){b.element.attr("href",b.href)}),c.clickToCallArray=void 0)}catch(e){}try{c.textInputsArray&&(c.textInputsArray.removeClass("toPixel"),c.textInputsArray=void 0)}catch(f){}}};var aa=function(){for(var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]\x3e\x3ci\x3e\x3c/i\x3e\x3c![endif]--\x3e",c[0];);
return 4<a?a:void 0}(),ka=function(){var b=a("#"+GALLERY_BLACK_CONTAINER_ID),c=a("#"+GALLERY_CONTAINER_ID_IMG),d=a("#"+GALLERY_CONTAINER_ID);if(0<d.length&&"block"==b.css("display")){b.width(a(document).width());b.height(V()+Q()+100);var b=null,b=0!=window.orientation?.75:.85,e=c.data("originalWidth"),f=c.data("originalHeight"),g=Math.min(O()/document.documentElement.clientWidth,Math.min(Q()/f,O()/e)),g=g*b;c.width(Math.round(e*g));c.height(Math.round(f*g));d.css({top:1*V()+(Q()-1*c.height())/2-8+
"px",left:Math.round((O()-c.width())/2)+"px"}).width(Math.round(c.width()))}};h.isLinkException=r;h.ajaxNavigateToLink=function(a,b,c){q(a,b,c)};h.ajaxNavigateToLinkOnEvent=function(b){q(a(this).attr("href"),a(this),b)};h.isPermittedOnClickValue=B;h.isAjaxLink=function(b){return a(b).is(Parameters.LinksToAjax)&&!r(b.attr("href"))?!0:!1};h.getCacheSize=function(){return F()};h.getQueryParam=function(a,b){return k(a,b)};h.isUseLayout=function(){return null!=a.layoutManager};h.isUseIscroll=function(){return h.isUseLayout()&&
null==a.layoutDevice.components.iscrollBody?!1:h.isUseLayout()&&a.layoutDevice.components.iscrollBody.isUseIscroll};h.isBodyScrollable=function(){return h.isUseLayout()?a.commonComponents.slideRightNav&&a.commonComponents.slideRightNav.bambooObject?!1:null==a.layoutDevice.components.iscrollBody?!0:a.layoutDevice.components.iscrollBody.isBodyScrollable:!0};h.showPrevPageFromCache=function(){var a;try{var b=null,c=null;1<P.length&&(c=P[P.length-2]);a=b=U?t(JSON.parse(D.getItem(c))):D[c]}catch(d){a=
null}null!=a&&(a.pageAnimation="backward",a.show(!1))};h.needToShowBackToHome=function(){Parameters.AllowAjax=Parameters.AllowAjax&&!a.DM.getQueryParam(window.location.href,"nee");if(Parameters.AllowAjax){var b=1<P.length;n&&n.pageContent&&n.pageContent.isHomePage&&(b=!1);return b}return!Parameters.IsCurrentHomePage};h.setUserOnPageReady=function(b){a.DM.userOnPageReadyFn=b;"function"!==typeof a.DM.userOnPageReadyFn||a.DM.setUserOnReadyFn||(a(function(){"function"===typeof a.DM.userOnPageReadyFn&&
a.DM.userOnPageReadyFn({isAjax:!1})}),a.DM.setUserOnReadyFn=!0)};h.restoreDefaultNavigationStyles=function(){var b=a(Parameters.NavigationAreaParams.NavbarSelector);if(0<b.length){var c=b.children("li:has(a):not(.dmHideFromNav)");a.layoutDevice&&(c=c.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));0==c.length&&(c=b.children("a"));c.each(function(b){b=a(this);1==this.nodeType&&(b.css("position",""),b.css("top",""),b.changeDisplay(""),b.css("opacity",""),b.css("-webkit-transition",""),b.css("-webkit-transform",
""),b.css("-moz-transition",""),b.css("-moz-transform",""),b.css("-o-transition",""),b.css("-o-transform",""),b.css("-ms-transition",""),b.css("-ms-transform",""),b.unbind("webkitTransitionEnd"),b.unbind("transitionend"),b.unbind("oTransitionEnd"))})}};h.loadExternalScriptsAsync=function(){g("http://mobile.dudamobile.com/_dm/s/rt/scripts/jquery-viewport-plugin.js",null,!1);g("http://mobile.dudamobile.com/_dm/s/rt/scripts/sha.js",null,!1);g("http://mobile.dudamobile.com/_dm/s/rt/scripts/jquery-history.js",sa,!1)};h.loadExternalScriptAsync=function(a,b,c){g(a,b,c)};h.loadExternalScriptSync=
function(b,c,d){a.ajaxSetup({async:!1});h.loadExternalScriptAsync(b,c,d);a.ajaxSetup({async:!0})};h.initNavbar=function(b){null==b&&(b=!1);if(!Y||b){b=a(Parameters.NavigationAreaParams.NavbarSelector);var c=a(".newNavigationElementPlaceHolder");isNewNav=!1;0<c.length&&(Parameters.NavigationAreaParams.NavbarSelector=".newNavigationElementPlaceHolder #dmNav",isNewNav=!0);isNewNav?Z():0<b.length?n.linkType==Enum.LinkType.Home||null!=n.pageContent&&void 0!=typeof n.pageContent.isHomePage&&n.pageContent.isHomePage||
null==n.pageContent&&h.isCurrentHomePage()?(b.changeDisplay("block",!0),Z(),h.initSubNavbar()):Parameters.NavigationAreaParams.ShowBackToHomeOnInnerPages&&null!=n.pageContent&&n.pageContent.alias==Parameters.DefaultPageAlias&&!isNewNav?(b.css("cssText","display: none !important"),ja(),h.initSubNavbar(),a(".dm_subMenu").each(function(b){a(this).changeDisplay("block",!0)})):null!=n.pageContent||h.isCurrentHomePage()?(b.changeDisplay("block",!0),Z()):(b.changeDisplay("none"),ja(),h.initSubNavbar(),a(".dm_subMenu").each(function(b){a(this).changeDisplay("block",
!0)})):isNewNav||n.linkType==Enum.LinkType.Home||void 0!=typeof n.pageContent.isHomePage&&n.pageContent.isHomePage||!Parameters.NavigationAreaParams.ShowBackToHomeOnInnerPages||!(0<a("#dmPostBackToMain").length||n.pageContent.alias==Parameters.DefaultPageAlias)||(ja(),h.initSubNavbar());h.isUseLayout()&&a.layoutManager.afterInitNav()}};h.initListWidget=function(){function b(c){var d=c.parents(".dmPrettyList"),l=c.offset(),e=c.height(),f=a(window).height(),z=c.find("a.biglink").attr("href")||"",g=
a("\x3cimg class\x3d'close' src\x3d'/_dm/s/rt/images/pop up_x.png' /\x3e").on("click",function(){a(this).parents("div.contentPopup").remove()}),h=a(c.find("a.biglink").clone()).html(c.find("span.buttonText").clone());c=c.find("p.listText").clone();z=a("\x3cdiv class\x3d'contentPopup' /\x3e").append(c.css({top:l.top}).append(h.attr("href",z),g));console.log(f);f=a("div.contentPopup");0<f.length&&f.remove();d.append(z);a("html #dmRoot").animate({scrollTop:l.top-e});v([d.find(".contentPopup .biglink").get(0)])}
var c=a("div.dmPrettyList");if(!c.length)return"No Lists";c.on("click.openText","li.listItem",function(c){isDudaone||"layoutB"!==a(c.delegateTarget).attr("layout")||a.layoutManager._is_nee||(c.preventDefault(),c.stopPropagation(),b(a(c.currentTarget)))});c.find("li.listItem a").off("click touchstart touchend touchmove");return"List initialized"};h.insideEditor=function(){try{var b=window.editorParent&&window.editorParent.jQuery&&window.editorParent.jQuery.dmfw,c=!window.editorParent.jQuery.onefw&&
a("body").hasClass("bodyInsideNee"),d=window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode;return!!b&&(c||d)}catch(e){return!1}};h.isPreview=function(){return h.insideEditor()||window.editorParent&&window.editorParent.jQuery&&(window.editorParent.jQuery("body").hasClass("mobilePreviewBody")||window.editorParent.jQuery("body").hasClass("onePreviewBody"))};h.showPopUp=function(a,b,c,d){c=c||600;d=d||560;if(a)return window.open(a,b,"toolbar\x3dno, location\x3dno, directories\x3dno, status\x3dno, menubar\x3dno, scrollbars\x3dno, resizable\x3dno, copyhistory\x3dno, width\x3d"+
c+", height\x3d"+d+", top\x3d"+(screen.height/2-d/2)+", left\x3d"+(screen.width/2-c/2))};h.initCouponWidget=function(b){b=b||a(".dmCoupon");if(b.length){h.insideEditor()||window.location.href.indexOf("nee\x3d");for(var c=0;c<b.length;c++){var d=a(b[c]),e=parseInt(d.attr("expdt"));a.browser&&a.browser.chrome||d.find(".dmCouponOfferBorder").hide();0<e&&new Date(e)<new Date&&(d.addClass("expiredCoupon"),d.addClass("displayNoneImportant"));var f=!1;d.on("click",".dmUseCoupon",function(){function b(){html2canvas(d.parents(".dmCoupon").find(".dmCouponDesign"),
{proxy:"/proxy",proxyReturnsImg:!0,onrendered:function(a){var b=a.toDataURL();showCouponPopup(d,b,a.width+20,a.height);f=!1}});dm_gaq_push_event("CouponWidget",c.attr("name"),null,Parameters.SiteAlias,c)}if(!h.insideEditor()&&!f){f=!0;var c=a(this).parents(".dmCoupon"),d=c.find(".dmUsePopupWrapper");d.find("#dm").remove();if(0<c.find(".dmCouponImage").length){var e=c.find(".dmCouponImage").attr("src"),l=c.find(".dmCouponImage").width(),z=c.find(".dmCouponImage").height();showCouponPopup(d,e,l,z);
f=!1}else a.loadScript("/editor/nee/utils/html2canvas.js").done(b)}});var e=d.find(".dmShareCoupon"),g=d.find(".dmSharePopupWrapper");e.click(function(){h.insideEditor()||dmShowPopup(g,a(this).html()+":")});g.find("a").click(function(a){if(h.insideEditor())return!1})}}};h.initExternalAppButtons=function(b){(b&&b.is(".dmExternalAppButton")?a(b):a(".dmExternalAppButton")).each(function(){var b=a(this);b.attr("data-name");var c=b.attr("data-provider"),d=b.attr("data-src"),e=parseInt(b.attr("data-inith")||
"500")||500;if(d){var l=a('\x3cdiv\x3e\x3cdiv class\x3d"popupData"\x3e\x3ciframe seamless src\x3d"'+d+'" style\x3d"margin:auto;width:900px;height:'+e+'px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e');b.off("click.openPopup").on("click.openPopup",function(){h.insideEditor()||dmShowPopup(l,"","noTitle externalAppPopup"+c,940,e+50)})}})};h.initClickToCallWidget=function(){a("body").off("mousedown.voipReplacement").on("mousedown.voipReplacement",".dmCall.voipReplacement",function(b){b=a.layoutDevice?
a.layoutDevice.type:"mobile";if("mobile"==b)return-1==window.location.href.indexOf("nee\x3d");var c=a(this),d=c.find(".phoneNumHolder"),e=c.attr("phone");d.length||(c.append('\x3cspan class\x3d"text phoneNumHolder"\x3e\x3c/span\x3e'),d=c.find(".phoneNumHolder"),b="desktop",a(this).attr("href","javascript:;"));d.html(e);e&&(d.show(),setTimeout(function(){c.toggleClass("revealPhoneNum")},100),a(".phoneNumHolder").bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){c.hasClass("revealPhoneNum")?
a(this).show():a(this).hide()}))})};h.initSubNavbar=function(){0<a(Parameters.NavigationAreaParams.SubNavbarSelector).length&&Z(!0)};h.hangEventsOnMoreLess=function(a){a&&(afterExpCol=a)};h.expandNavigation=function(b){null==b&&(b=!1);var c=a(Parameters.NavigationAreaParams.NavbarSelector),d=Parameters.NavigationAreaParams.NavbarSize;b&&(c=a(Parameters.NavigationAreaParams.SubNavbarSelector));var e=c;if(0<e.length){var f=e.find(".dmMore");0==f.length&&(f=e.find(".dmNavigationMoreAnchor"));if(0<f.length){f.remove();
var g=ia(c,"less",b);e.filter(":not('#hiddenNavPlaceHolder *')").children("li").eq(-1).after(g);var h=0,k=0,m=0,q=0;b=c.children("li:has(a):not(.dmHideFromNav)");a.layoutDevice&&(b=b.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));0==b.length&&(b=c.children("a"));var p=0;b.each(function(b){b=a(this);b.is(":visible")&&(1==this.nodeType&&0==p?(q=b.offset().top,m=b.height()):1==this.nodeType&&1==p&&(q=b.offset().top-q-m),1==this.nodeType&&p>=d&&(h=parseInt(h,10)+parseInt(b.height(),10),h+=q),
p++)});var t=-h+q,n=g.height(),r,s="";b.each(function(b){var c=a(this);c.addClass("dmNavShownItem");0==b&&(r=c.clone().css("display",c.css("display")).css("float",c.css("float")));1==this.nodeType&&b==d-1?(m=c.height(),s=c.css("display")):1==this.nodeType&&b>=d&&(c.hasClass("dmNavigationLessAnchor")||c.hasClass("dmLess")?(h=c.height(),b=k+h+q,k+=h,c.addClass("p_list_item"),c.changeDisplay(s),T(e,r)&&(ha()||a.browser.opera||a.browser.msie&&11<=1*a.browser.version?g.css("top","0px"):g.css("top",t-n+
"px"),ha()||a.browser.msie&&11<=1*a.browser.version||g.css("top",-b+"px"),c.css("-webkit-transition","-webkit-transform 0.2s linear, opacity 0.4s linear").css("-webkit-transform","translate(0, "+b+"px)").css("-ms-transition","-ms-transform 0.2s linear, opacity 0.4s linear").css("transition","transform 0.2s linear, opacity 0.4s linear").css("opacity","1"),a.browser.msie||c.css("transform","translate(0px, "+b+"px)"),b=function(){c.changeDisplay(s)},c.bind("webkitTransitionEnd",b),c.bind("transitionend",
b),c.bind("oTransitionEnd",b))):(h=c.height(),b=k+m+q,k+=m+q,m=h,c.removeClass("p_list_last"),c.addClass("p_list_item"),c.removeClass("dmNavCollapsedItem"),c.changeDisplay(s),T(e,r)&&(c.css("-webkit-transition","-webkit-transform 0.2s linear, opacity 0.4s linear").css("-webkit-transform","translate(0, "+b+"px)").css("-ms-transition","-ms-transform 0.2s linear, opacity 0.4s linear").css("transition","transform 0.2s linear, opacity 0.4s linear").css("opacity","1"),"0px"!=c.css("top")&&(!a.browser.msie||
a.browser.msie&&11<=a.browser.version)&&c.css("transform","translate(0px, "+b+"px)"),b=function(){c.changeDisplay(s)},c.bind("webkitTransitionEnd",b),c.bind("transitionend",b),c.bind("oTransitionEnd",b))))});null!=Parameters.AfterMoreLessCommand&&Parameters.AfterMoreLessCommand()}a.browser.msie&&11>a.browser.version?(e.changeDisplay("none",!0),e.changeDisplay("block",!0)):"inline-block"==s&&(e.hide(),e.show());var u=!1;e.find("li").each(function(b,c){var d=a(this);"inline-block"==d.css("display")&&
(u=!0,d.css("display","inline"))});u&&e.find("li").each(function(b,c){a(this).css("display","inline-block")})}};h.fullCollapseNavigation=function(b){Z(b);h.isUseLayout()&&a.layoutManager.afterInitNav()};h.collapseNavigation=function(b){null==b&&(b=!1);var c=a(Parameters.NavigationAreaParams.NavbarSelector),d=Parameters.NavigationAreaParams.NavbarSize;b&&(c=a(Parameters.NavigationAreaParams.SubNavbarSelector));var e=c;if(0<e.length){var f=e.find(".dmLess");0==f.length&&(f=e.find(".dmNavigationLessAnchor"));
var g;if(0<f.length){f.remove();var h=0;b=ia(c,"more",b);e.filter(":not('#hiddenNavPlaceHolder *')").children("li").eq(-1).after(b);b=c.children("li:has(a):not(.dmHideFromNav)");a.layoutDevice&&(b=b.filter(":not(.dmHideFromNav-"+a.layoutDevice.type+")"));0==b.length&&(b=c.children("a"));b.each(function(b){var c=a(this);0==b&&(g=c.clone().css("display",c.css("display")).css("float",c.css("float")));b<=d&&1==this.nodeType&&(h+=c.height());1==this.nodeType&&b>=d?c.hasClass("dmNavigationMoreAnchor")||
c.hasClass("dmMore")||(c.css("position","relative"),c.removeClass("p_list_last"),c.addClass("p_list_item"),c.addClass("dmNavCollapsedItem"),c.removeClass("dmNavShownItem"),c.changeDisplay("none"),T(e,g)&&(c.css("-webkit-transition",""),c.css("-webkit-transform",""),c.css("opacity","0"),c.css("-moz-transition",""),c.css("-moz-transform",""),c.css("-o-transition",""),c.css("-o-transform",""),c.css("-ms-transition",""),c.css("-ms-transform",""),b=function(){c.changeDisplay("none")},c.bind("webkitTransitionEnd",
b),c.bind("transitionend",b),c.bind("oTransitionEnd",b))):c.addClass("dmNavShownItem")});null!=Parameters.AfterMoreLessCommand&&Parameters.AfterMoreLessCommand()}a.browser.msie&&(e.changeDisplay("none",!0),e.changeDisplay("block",!0))}};h.initTabs=function(){var b=jQuery(".dmtabsheader \x3e div"),c;jQuery(document.body).on("click",".dmtab",function(b){b=a(this);var c=b.parent(),d=c.parent().find(".dmtabscont \x3e div");c.find(".dmtab").removeClass("active");b.addClass("active");d.hide();d.dmCss("display",
"none !important");d.eq(b.index()).show().dmCss("display","block !important");b.is(":in-viewport")||h.jumpTo(jQuery(this),-100);h.isUseIscroll()&&a.layoutManager.refreshIscroll();c=d.eq(b.index()).find(".dmTwitterFeed").length;b=d.eq(b.index()).find(".dmTwitterFeed iframe").length;c&&!b&&h.initTwitterFeed()});c=jQuery(".dmtabscont \x3e div");b.removeClass("active");a(".dmtabsheader").find("\x3e:first-child").addClass("active");c.hide();c.dmCss("display","none !important");a(".dmtabscont").find("\x3e:first-child").show();
a(".dmtabscont").find("\x3e:first-child").dmCss("display","block !important");jQuery(".dmtabs.shapeSimpleLeft .dmtabscont \x3e div, .dmtabs.shapeSimpleRight .dmtabscont \x3e div").css("min-height",function(){return jQuery(this).closest(".dmtabs").find(".dmtabsheader").height()+"px"})};h.initMenusArrows=function(b){var c;if(!isDudaone&&(b=b||{},c=jQuery(".dmRestaurantMenu .menuCategory"),0<c.length)){for(var d=null,e=function(a){var b=a.find(".menuCatArrow");b.hasClass("icon-chevron-up")?(a.nextUntil(".menuCategory").not(".menuCategory").css("display",
"none"),b.removeClass("icon-chevron-up").addClass("icon-chevron-down")):(a.nextUntil(".menuCategory").not(".menuCategory").css("display","list-item"),b.removeClass("icon-chevron-down").addClass("icon-chevron-up"))},f=function(){var a=b.elem.find("li"),c=b.elem.find("li.menuCategory").find(".menuCatArrow");a.css("display","list-item");c.removeClass("icon-chevron-down").addClass("icon-chevron-up")},g=0;g<c.length;g++){var h=a(c[g]);h.next().hasClass("menuCategory")||0==h.next().length?h.find(".menuCatArrow").addClass("hide"):
(h.unbind("click").click(function(b){e(a(this))}),d||(d=h),e(h))}b.isOpenAll?f():d&&e(d)}};h.ajaxExt=function(){a("[ext_ajax_load]").each(function(){var b=a(this).attr("ext_page_id"),c=a(this).attr("dmle_extension"),d=a(this).attr("ext_el_id"),e=a(this);a.post("/_dm/s/rt/scripts/ajax_ext.jsp",{pageId:b,extId:c,elementId:d,dm_device:a.layoutDevice?a.layoutDevice.type:"mobile"},function(b){b=a(b);-1==window.location.href.indexOf("nee\x3d")&&!1!==Parameters.RemoveDID&&b.removeAttr("duda_id");e.replaceWith(b)})})};
h.initCompanyDescription=function(){jQuery(".dmDescription").length&&(a(".dmDescription").each(function(){var b=a(this).html();if(250<b.length){var c=b.substr(0,250),b=b.substr(249,b.length-250),c=c+'\x3cspan class\x3d"moreellipses"\x3e...\x3c/span\x3e\x3cspan class\x3d"morecontent"\x3e\x3cspan\x3e'+b+'\x3c/span\x3e\x3ca href\x3d"" class\x3d"morelink"\x3e\x26nbsp;\x26nbsp;more\x3c/a\x3e\x3c/span\x3e';a(this).html(c)}}),a(".morelink").click(function(){a(this).hasClass("less")?(a(this).removeClass("less"),
a(this).html("\x26nbsp;\x26nbsp;more")):(a(this).addClass("less"),a(this).html("less"));a(this).parent().prev().toggle();a(this).prev().toggle();h.isUseIscroll()&&a.layoutManager.refreshIscroll();return!1}))};h.initForm=function(){var b=jQuery(".dmform form");if(!b.length)return"No Forms";b.find(".dmformcaptcha").remove();b.closest(".dmform[captcha\x3d'true']").each(function(b,c){var d=a("\x3cdiv class\x3d'dmRespDesignCol dmNoMargin dmformcaptcha'\x3e\x3c/div\x3e");d.insertBefore(a(this).find(".dmformsubmit"));
Recaptcha.create(captchaPublicKey,d.get(0),{theme:"white",lang:"JAPANESE"!=a(".dmform-wrapper form").attr("locale")?"en":"ja"})});b.unbind("submit").submit(function(b){var c=a(this),d="dudaConstantContactId"===c.parents(".dmform").attr("dmle_widget");b.preventDefault();c.closest(".dmform").find(".dmform-error").hide();a(".inputError").removeClass("inputError");a(".recaptchaError").remove();var e=!0,l;c.find(".required input:not([type\x3dhidden]), .required textarea").each(function(b,c){l="checkbox"===
a(c).attr("type");if(""===a(c).val().trim()||l&&1>a(c).parents(".checkboxwrapper").find("input:checked").length)(l?a(c).parents(".checkboxwrapper"):a(c)).addClass("inputError"),e&&h.jumpTo(c,-20),e=!1});c.find(".required select").each(function(b,c){0==c.selectedIndex&&(a(c).addClass("inputError"),e=!1)});if(e){dm_gaq_push_event("form","submit",void 0,void 0,c);b=c.find("input[type\x3d'submit']").offset().top-100;b=[O()/2,b];h.setLoadingOnScreen(!0,b);var f=0;c.closest(".dmform").find("input, textarea, select").map(function(){var b=
a(this),c=b.attr("name");c&&c.startsWith("dmform-")&&(c=f,10>c&&(c="0"+c),b.closest(".dmforminput").find("input[type\x3dhidden]").attr("name","label-dmform-"+c),b.attr("name","dmform-"+c),(!b.is("[type\x3dradio]")&&!b.is("[type\x3dcheckbox]")||b.parent().is(":last-child"))&&f++)});(b=c.closest(".dmform").attr("id"))||(b=c.closest(".dmform").attr("duda_id"));c.closest(".dmform").find("form").append("\x3cinput type\x3d'hidden' name\x3d'form_id' value\x3d'"+b+"'\x3e");c.closest(".dmform").find("form").append("\x3cinput type\x3d'hidden' name\x3d'form_title' value\x3d'"+
c.closest(".dmform").find("h3").text()+"'\x3e");b=c.closest(".dmform").find("#dmActionInput, .dmActionInput").val();d&&(b="/_dm/s/rt/widgets/constantcontact.form.submit.jsp");if(null==b||void 0==b||""==b)b="/_dm/s/rt/widgets/dmform.submit.jsp";a.post(b+"?alias\x3d"+Parameters.SiteAlias,a(this).serialize(),function(b){if(b=c.closest(".dmform").find(".dmform-success").data("success-page")){if(window.isReseller&&self!==top||window.isWLReseller&&!window.isDudaone||"undefined"!==typeof previewPopUp&&window.editorParent.$&&
window.editorParent.$.dmx&&window.editorParent.$.dmfw){b+="?preview\x3dtrue\x26dm_try_mode\x3dtrue";var d=k(window.location.href,"dm_device")||a.layoutDevice&&a.layoutDevice.type;d&&""!=d&&(b+="\x26dm_device\x3d"+d)}else window.location.search&&(b=-1==b.indexOf("?")?b+window.location.search:b+window.location.search.replace("?","\x26"));location.replace(b)}else c.closest(".dmform-wrapper").hide(),c.closest(".dmform").find(".dmform-success").show(),h.jumpTo(c.closest(".dmform").find(".dmform-success"),
-100),h.setLoadingOnScreen(!1),h.isUseIscroll()&&a.layoutManager.refreshIscroll()}).error(function(a){401==a.status?(c.find("#recaptcha_area").addClass("inputError"),c.find("#recaptcha_area").append("\x3cdiv class\x3d'recaptchaError'\x3eWrong Input\x3c/div\x3e"),Recaptcha.reload()):(c.closest(".dmform").find(".dmform-error").show(),h.jumpTo(c.closest(".dmform").find(".dmform-error"),-100));h.setLoadingOnScreen(!1)})}});jQuery(".dmform form .required .radiowrapper").each(function(b,c){var d=a(c);0==
d.find(":radio:checked").size()&&d.find(":radio:first").prop("checked",!0)});jQuery(".dmform form textarea").each(function(b,c){var d=a(c);d.val(d.val().trim())});a(document.body).on("keypress",".inputError",function(){a(this).removeClass("inputError");a(".recaptchaError").remove()});b.find(".required select").change(function(){a(this).removeClass("inputError")})};h.addSlidesToImageSlider=function(a,b){var c=jQuery('.flexslider[duda_id\x3d"'+a+'"]'),d=c.data("flexslider");if(void 0===d)c.find("ul.slides").append(b),
h.initImageSliderInternal(c.parent());else for(c=0;c<b.length;c++)d.addSlide(b[c])};h.removeSlideFromImageSlider=function(a,b){jQuery('.flexslider[duda_id\x3d"'+a+'"]').data("flexslider").removeSlide(b)};h.initImageSlider=function(b,c){var d=a.extend({},{delay:0},c),e=d.elem||jQuery(".dmImageSlider");setTimeout(function(){h.initImageSliderInternal(e,b,d);for(var a=0;10>a;a++)setTimeout(h.imageSliderFitImagesAll,200*a)},d.delay)};h.imageSliderFitImages=function(a,b){a.find("li img").imgCover({type:b?
"cover":"contain"})};h.imageSliderFitImagesAll=function(){jQuery(".dmImageSlider .flexslider").each(function(){var b=a(this),c=eval("("+b.attr("sliderScriptParams")+")");h.imageSliderFitImages(b,c.stretch)})};a.fn.destroyImageSlider=function(){var b=a(this),c;return 0<b.length?(c=b.clone(),c.find(".flex-viewport").children().unwrap(),c.find(".clone, .flex-direction-nav, .flex-control-nav").remove().end().find("*:not(p)").removeAttr("style").removeClass(function(a,b){return(b.match(/\bflex\S+/g)||
[]).join(" ")}),c.insertBefore(b),b.remove(),c):b};h.updateImageSlider=function(b,c){function d(){e=b.destroyImageSlider();e.flexslider(f);b=e;var a=b.closest(".dmImageSlider");1===a.length&&(a.parent().is(".dmContent, .dmRespCol")||a.parent().css("width","100%"))}var e,f=b.attr("sliderScriptParams"),f=eval("("+f+")");f.animation=f.isFade?"fade":"slide";f.slideshow=f.isAutoPlay;f.pausePlay=!1;if(c){var g=b.data("flexslider");g.vars.directionNav=f.directionNav;g.setup();g.stop();f.isAutoPlay&&g.play();
f.directionNav?g.directionNav.css("visibility","visible"):g.directionNav.css("visibility","hidden")}else a.loadScript("http://mobile.dudamobile.com/_dm/s/rt/scripts/flexSlider/jquery.flexslider.js").done(d);b.css({opacity:0});b.imagesLoaded().done(function(a){h.imageSliderFitImages(b,f.stretch);b.animate({opacity:1},"fast")}).fail(function(c){var d,e,f;c=c.images;for(var g in c)d=c[g],d.isLoaded||(d=a(d.img),e=d.parent(),f=d.attr("data-dm-image-path"),e.css({backgroundImage:"url("+f+")"}),d.attr({src:f}));b.animate({opacity:1},
"fast")})};h.initImageSliderInternal=function(b,c,d,e){0<b.length&&g("http://mobile.dudamobile.com/_dm/s/rt/scripts/flexSlider/jquery.flexslider.js",function(){for(var d=0;d<b.length;d++){var f=a(b[d]).hasClass("flexslider")?a(b[d]):a(b[d]).find(".flexslider");h.updateImageSlider(f,c)}e&&e()})};h.initAudioPlayer=function(){0<jQuery(".dmAudioPlayer").length&&g("/_dm/s/rt/scripts/jplayer/jquery.jplayer.min.js",function(){g("/_dm/s/rt/scripts/jplayer/add-on/jplayer.playlist.min.js",function(){var b=jQuery(".dmAudioPlayer");a(document).ready(function(){for(var c=
0;c<b.length;c++){var d=a(b[c]).attr("id"),e=a(b[c]).attr("type"),f="#jp_container_"+d,d="#jp_jplayer_"+d,g={};g[e]=a(b[c]).attr("media");g.title=a(b[c]).attr("title");"true"==a(b[c]).attr("dl")&&(g.free=!0);e={swfPath:"/_dm/s/rt/scripts/jplayer/",supplied:e,wmode:"window",preload:"auto"};void 0!==aa&&(e.solution="flash, html");new jPlayerPlaylist({jPlayer:d,cssSelectorAncestor:f},[g],e)}})},!0)},!0)};h.isIOS=function(){return/(iPhone|iPad|iPod)/.test(navigator.userAgent)};h.initGeoLocation=function(){0<
jQuery(".dmGeoLocation").length&&-1==window.location.href.indexOf("nee\x3d")&&g("https://maps.googleapis.com/maps/api/js?key\x3dAIzaSyBAwUOqPUB1CU31yDztoZYaUE7sPv4ktEI\x26sensor\x3dfalse\x26callback\x3djQuery.initGoogleMapsWidgets",a.DM.initGeoLocationInternal)};h.initGeoLocationInternal=function(){function c(e){if(e){a(s).empty().attr("style","");t.hide();n.hide();if(u.showAll){r.fadeIn("fast");var f=new b.google.maps.Map(s,{mapTypeId:b.google.maps.MapTypeId.ROADMAP}),g=new b.google.maps.LatLngBounds,
k;for(e=0;e<p.length;e++)k=new b.google.maps.LatLng(p[e].latitude,p[e].longitude),function(e){var g=new b.google.maps.Marker({position:k,title:p[e].title,map:f,clickable:!0});b.google.maps.event.addListener(g,"click",function(){d(p[e].uniqueId);var b=a(".dmGeoViewStateWrapper");a(".dmStState").removeClass("isOff");b.removeClass("isOff");c(!1)})}(e),g.extend(k);f.fitBounds(g)}else{r.fadeIn("fast");g=new b.google.maps.LatLngBounds;e={zoom:14,center:new b.google.maps.LatLng(u.lat,u.lon),mapTypeId:b.google.maps.MapTypeId.ROADMAP};
var w=new b.google.maps.Map(s,e);(function(){var a=new b.google.maps.Marker({position:new b.google.maps.LatLng(u.lat,u.lon),title:u.title,map:w,clickable:!0});b.google.maps.event.addListener(a,"click",function(){m.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");n.show();r.hide();t.hide()});g.extend(new b.google.maps.LatLng(u.lat,u.lon))})()}r.fadeIn("fast")}else r.hide(),u.showAll&&m.find(".dmGeoLocBtn").removeClass("geoDisabledState"),u.showAll?t.fadeIn("fast"):n.fadeIn("fast");h.isUseIscroll()&&
a.layoutManager.refreshIscroll()}function d(b){var c;a(".dmGeoStList").text("INFO");var e=jQuery.grep(p,function(a){return a.uniqueId==b})[0];u.showAll=!1;u.lat=e.latitude;u.lon=e.longitude;u.title=e.title;n.find(".dmGeoSVTitle").text(e.title);c=e.phone?e.formattedAddress+", "+e.phone:e.formattedAddress;n.find(".dmGeoSVAddr").text(c);(e.phone||e.showPhone)&&n.find(".dmGeoSVPhone a").attr("href","tel:"+e.phone);n.find(".dmGeoSVPhone").toggle(e.showPhone);e.url?(c=a(e.url),c.removeAttr("duda_id"),c.removeAttr("id"),
c.addClass("dmGeoSVGoToPage"),n.find(".dmGeoSVGoToPage").replaceWith(c)):n.find(".dmGeoSVGoToPage").hide();n.find(".dmGeoSVMoreInfo").text(e.description||"");n.find(".dmGeoSVSeeAll").unbind("click").click(function(){u.showAll=!0;n.hide();t.show();m.find(".dmGeoLocBtn").removeClass("geoDisabledState");a(".dmGeoStList").text("LIST")})}function e(b,c){for(var d=[],f=0;f<p.length;f++)d.push({latitude:p[f].latitude,longitude:p[f].longitude,id:p[f].uniqueId});for(var l=[],f=0;f<d.length;f++){var g=d[f],
h=c-g.longitude,k=b-g.latitude,h=Math.sqrt(h*h+k*k);l[f]=g;l[f].distance=h}l.sort(function(a,b){return a.distance>b.distance?1:-1});d=l[0].id;m.find(".dmGeoLocBtn").addClass("geoDisabledState");t.find('li[geoid\x3d"'+d+'"]').data("mode",a(".dmGeoViewStateWrapper").hasClass("isOff")?"map":"list").click()}var f,g=jQuery(".dmGeoLocation"),k=g.length,m,q,p,t,r,n,s,u,M,K,S,v,x,W;for(f=0;f<k;f++){m=a(g[f]);q=m.attr("data-editor");q=JSON.parse(Base64.decode(q));p=q.locations;t=m.find(".dmGeoMLocList");r=
m.find(".dmGeoMLocMapView");n=m.find(".dmGeoSingleView");s=r.find(".dmGeoMLocMapViewMap")[0];q=m.find(".dmGeoMLocList li");u={};K=M=0;u.showAll=!0;S=m.find(".dmGeoViewStateWrapper");v=m.find(".dmStState");x=m.find(".dmGeoStList");W=m.find(".dmGeoStMap");x.unbind("click").click(function(){v.removeClass("isOff");S.removeClass("isOff");c(!1)});W.unbind("click").click(function(){v.addClass("isOff");S.addClass("isOff");c(!0)});v.unbind("click").click(function(){a(this).hasClass("isOff")?(v.removeClass("isOff"),
S.removeClass("isOff"),c(!1)):(v.addClass("isOff"),S.addClass("isOff"),c(!0));h.isUseIscroll()&&a.layoutManager.refreshIscroll()});for(x=0;x<q.length;x++)a(q[x]).unbind("click").click(function(){d(a(this).attr("geoid"));"map"===a(this).data("mode")?(n.hide(),t.hide(),r.show(),c(!0)):(n.show(),t.hide(),r.hide(),c(!1));a(this).data("mode","list");a.DM.scrollPreviewToElement(a(this).closest(".dmGeoLocation"),500,null)});a(document.body).on("click",".dmGeoLocBtn",function(a){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){M=
a.coords.latitude;K=a.coords.longitude;m.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");e(M,K)},function(a){H==Enum.AgentType.Iphone?navigator.userAgent.match(/CriOS/i)?alert("We do not have permission to access your location. Please enable location access to Chrome in 'Settings / Privacy / Location Services'"):navigator.userAgent.match(/Safari/i)?alert("We do not have permission to access your location. Please enable location access to Safari in 'Settings / Privacy / Location Services'"):
alert("We do not have permission to access your location. Please enable access in your settings"):alert("We do not have permission to access your location. Please enable access in your settings")})})}};h.initFacebookScripts=function(){var b=a("#fb-root"),c=b.data("locale")||"en_US";if(0<b.length)if("undefined"!=typeof FB)try{FB.XFBML.parse()}catch(d){}else window.fbAsyncInit=function(){try{FB.init({status:!0,cookie:!0,xfbml:!0,oauth:!0})}catch(a){}},function(a){var b;a.getElementById("facebook-jssdk")||
(b=a.createElement("script"),b.id="facebook-jssdk",b.async=!0,b.src="//connect.facebook.net/"+c+"/all.js",a.getElementsByTagName("head")[0].appendChild(b))}(document)};h.onIscrollScrolls=function(b){b=da();var c=jQuery.layoutManager.getLayoutElement().iscrollBody.element;ga(b[1]);a(c).height();h.isBodyScrollable()||a(c).height()};h.initBackToTop=function(){var b=window,c;h.isBodyScrollable()||(b=jQuery.layoutManager.getLayoutElement().iscrollBody.element);ga(da()[1]);var d=-1!=window.location.href.indexOf("nee\x3d");
a(b).off("scroll.btt").on("scroll.btt",function(c){d&&window.editorParent.jQuery&&window.editorParent.jQuery.deselectEditable&&window.editorParent.jQuery.deselectEditable(window.editorParent.jQuery.dmfw.editables("back_to_top"));c=da();ga(c[1]);a(b).height();h.isBodyScrollable()||a(b).height()});a(".dmBackToTop").off("click.top").on("click.top",function(){c=a(".dmBackToTop");d&&!isDudaone?getEventsFirePolicy()&&window.editorParent.jQuery&&window.editorParent.jQuery(c).lockElement():(c.css("opacity",
"0"),c.css("visibility","hidden"),h.isBodyScrollable()?a.DM.scrollPreviewToElement(a("body"),500,null):a.DM.scrollPreviewToElement(a("#site_content"),500,null))})};h.initDisqusComments=function(){var b=a("#disqus_thread");if(0<b.length){var c=b.attr("shortname"),d=b.attr("disqusurl");if(""==d||null==d)d=a.DM.getCurrentPageUrl(),0<=d.indexOf("#")&&d.substr(0,d.indexOf("#"));b.attr("disqus_identifier");b.attr("disqus_container_id");for(var b=document.getElementsByTagName("span"),d=0,e;d<b.length;d++)-1!=
b[d].className.indexOf("dsq-postid")&&(b[d].parentNode.setAttribute("data-disqus-identifier",b[d].getAttribute("rel")),e=b[d].parentNode.href.split("#",1),e=1==e.length?e[0]:e[1],b[d].parentNode.href=e+"#disqus_thread");""!=c&&null!=c&&(g("http://"+c+".disqus.com/embed.js"),g("http://"+c+".disqus.com/count.js"))}};h.initHoursOfOperation=function(b){0<jQuery(".dmHoursOfOperation").length&&function(){var c=a.getClientTimeZone(),d=parseInt((new Date).getUTCDay())-1;-1==d&&(d=6);var e={convert12to24:function(a){var b=
a.substr(a.length-2).toLowerCase(),c=a.substr(0,a.indexOf(":"));a=a.substring(a.indexOf(":")+1,a.indexOf(" "));"pm"==b&&(c=12!=c?1*c+12:"00"!=a?"0":"24");return c+":"+a},timeToArray:function(a){var b=[];a=a.toLowerCase();a=a.replace("0pm","0 pm");a=a.replace("0am","0 am");a.match(/^(\d{1,2}):(\d{2})(:00)?( )?([apAP][mM])?$/)[4]&&(a=this.convert12to24(a));return b=a.split(":")},getTimeZoneDiff:function(a,b){return a-b},getTargetHour:function(a,b){var c=(new Date).getHours(),d=a-b;return a>b?c-Math.abs(d):
c+Math.abs(d)}},f={targetHour:null,timeZoneDiff:null,isInt:function(a){return 0===a%1},makeVal2Digits:function(a){return 10>parseInt(a)?"0"+a:a},buildTimeString:function(a){var b=(new Date).getMinutes(),c=0;if("object"==typeof a){var c=60*parseFloat("0."+a[1]),d="";this.timeZoneDiff.toString().indexOf("-");c=b+c;59<c?(a[0]=parseInt(a[0])+1,d=c-60):d=c;c=this.makeVal2Digits(a[0]);d=this.makeVal2Digits(d);return c+":"+d}c=this.makeVal2Digits(a);return c+":"+b},getTimeString:function(a,b){this.timeZoneDiff=
b;this.targetHour=a;if(this.isInt(targetHour))return this.buildTimeString(a);var c=a.toString().split(".");return this.buildTimeString(c,b)}};jQuery(".dmHoursOfOperation").each(function(b,l){var g=null,h=null,k=null,m=null,q=m=null,p=null,n=a(l),m=n.attr("display_option");if(2!=m)a:if(m=n.find("div.we-are-open"),p=n.attr("timezone"),""!==p&&(0<=p.indexOf("_")?(p=p.split("_"),k=p[0]):k=p),n.attr("hours_data")&&(g=JSON.parse(decodeURIComponent(escape(window.atob(n.attr("hours_data")))))),n.attr("holyday_data")&&
(h=JSON.parse(decodeURIComponent(escape(window.atob(n.attr("holyday_data")))))),n.attr("banner_closed")&&(q=n.attr("banner_closed")),n=k,k=m,null==g)jQuery(k).html(q).addClass("off");else{m=a.datepicker.formatDate("mm/dd/yy",new Date);for(p=0;p<h.length;p++){var t=h[p];if(t.date==m){if(!0==t.fullDay){jQuery(k).html(q).addClass("off");break a}var r=e.getTargetHour(c,n),r=f.getTimeString(r,e.getTimeZoneDiff()),u=e.convert12to24(t.startTime),t=e.convert12to24(t.endTime);r<u||r>t?(jQuery(k).html(q).addClass("off"),
t=!0):t=!1;if(!0==t)break a}}switch(g[d].dayMode){case "1":h=e.getTargetHour(c,n);h=f.getTimeString(h,e.getTimeZoneDiff());n=e.convert12to24(g[d].startTime);g=e.convert12to24(g[d].endTime);if(h<n||h>g){jQuery(k).html(q).addClass("off");break}break;case "2":h=e.getTargetHour(c,n);h=f.getTimeString(h,e.getTimeZoneDiff());n=e.convert12to24(g[d].splitDay.START_MORNING);m=e.convert12to24(g[d].splitDay.END_MORNING);p=e.convert12to24(g[d].splitDay.START_NOON);g=e.convert12to24(g[d].splitDay.END_NOON);if(h<
n||h>g){jQuery(k).html(q).addClass("off");break}if(h>m&&h<p){jQuery(k).html(q).addClass("off");break}break;case "3":jQuery(k).html(q).addClass("off")}}});"function"==typeof b&&b()}()};h.initDatePicker=function(){function b(d){var e=a(d).attr("lang");"ja"==e||"pt"==e||"es"==e?g("/_dm/s/rt/scripts/datePicker/mobiscroll.lang."+e+".js",function(){c(d,e)}):c(d,"en-US")}function c(b,d){if(a(b).hasClass("dmDatePicker")){var e=a(b).attr("date_format"),f="mmddyyyy"==e?"mm/dd/yyyy":"dd/mm/yyyy";a(b).scroller({preset:"date",
display:"bubble",dateOrder:e,dateFormat:f,lang:d})}else e=a(b).attr("time_format"),f="Hii"==e?"H:ii":"h:ii a",a(b).scroller({preset:"time",display:"bubble",timeFormat:f,timeWheels:e,lang:d})}var d,e,f;!a.DM.getQueryParam(window.location.href,"nee")&&(f=a(".dmDatePicker"),e=a(".dmTimePicker"),d=0<f.add(e).length)&&((d=isDudaone&&"desktop"===a.layoutDevice.type)?g("/_dm/s/rt/scripts/datetimepicker/jquery.datetimepicker.js",function(b){var c,d;c={datepicker:!1,format:"H:i"};d={timepicker:!1};a.each(f,
function(b,c){d.format="ddmmyyyy"===a(c).attr("date_format")?"d/m/Y":"m/d/Y";a(c).datetimepicker(d)});a.each(e,function(b,d){c.hours12="hiia"===a(d).attr("time_format").toLowerCase();a(d).datetimepicker(c)})}):g("/_dm/s/rt/scripts/datePicker/mobiscroll-2.0.3.custom.min.js",function(){for(var c=jQuery(".dmDatePicker"),d=0;d<c.length;d++)b(a(c[d]));c=jQuery(".dmTimePicker");for(d=0;d<c.length;d++)b(a(c[d]))}))};h.initRSS=function(){var b=a(".dmRSSFeed .dmListItemDescriptionDiv");if(!b.length)return"No RSS";
b.each(function(){var b=a(this),c=b.height();b.css("max-height","none");b.height()==c?b.parent().find(".rssListReadMore").addClass("dmDisplay_None"):b.parent().find(".rssListReadMore").removeClass("dmDisplay_None");b.css("max-height","")});return"RSS Initialized"};h.initSmartTables=function(){var b=jQuery("table.footable.dmSmartTable");0<b.length&&g("/_dm/s/rt/scripts/footable.0.1.js",function(){for(var c=0;c<b.length;c++)a(b[c]).footable()})};h.initBlogs=function(){0<a(".dmRssContainer").length&&
initBlogs()};h.initPhotoGallery=function(){function b(){function c(b){m.captionAndToolbarHide=!0;m.captionAndToolbarAutoHideDelay=0;return p=a(b).photoSwipe(m)}function d(b,c){var e=c.thumbnailsPerRow*c.rowsToShow,f=b.find("li").length;b.find("li").hide();5==c.thumbnailsPerRow?(e=c.rowsToShow,b.find(".gallery").removeClass("unEvenImages"),setTimeout(function(){for(var c=0;c<e;c++)a(b.find("li")[c]).show()},0),setTimeout(function(){b.find(".gallery").addClass("unEvenImages")},0)):b.find("li:lt("+e+
")").show();f>e?(b.find(".photoGalleryViewAll").show(),b.find(".photogalleryviewall").addClass("photoGalleryViewAll").show()):(b.find(".photoGalleryViewAll").hide(),b.find(".photogalleryviewall").hide());setTimeout(function(){-1!=window.location.href.indexOf("nee\x3d")&&window.editorParent.jQuery&&window.editorParent.jQuery.dmops.redrawSelection()},0);return{numToShow:e,allLiElem:f}}jQuery(".photoGalleryViewAll").unbind("click").click(function(b){b=a(this);var c=b.closest(".dmPhotoGallery"),d=c.attr("galleryOptionsParams"),
d=eval("("+d+")"),e=d.thumbnailsPerRow*d.rowsToShow,e=e-1;5==d.thumbnailsPerRow&&(e=c.find("li").length-d.rowsToShow);"true"==b.attr("isAll")?(b.attr("isAll","false"),b.html("view less"),c.find("li").show()):(b.attr("isAll","true"),b.html("view all"),c.find("li:gt("+e+")").hide());h.isUseIscroll()&&a.layoutManager.refreshIscroll();if(-1!=window.location.href.indexOf("nee\x3d")&&window.editorParent.jQuery)try{window.editorParent.jQuery.dmops.redrawSelection()}catch(f){}});for(var e=jQuery(".dmPhotoGallery"),
f=0;f<e.length;f++){var g=a(e[f]),k="dm_fb_gallery"==g.attr("dmle_extension"),m=g.attr("galleryOptionsParams"),m=eval("("+m+")"),m=a.extend({},{enableMouseWheel:!1,enableKeyboard:!1},m);m.imageScaleMethod="fitNoUpscale";m.allowUserZoom=!1;if(0<g.find("li").length){(function(b,c){var d=b.find("li");5==c.thumbnailsPerRow?(b.find(".gallery").addClass("unEvenImages"),a.browser.msie&&8<a.browser.version&&10>a.browser.version&&b.find(".gallery").addClass("ieFixes")):b.find(".gallery").removeClass("unEvenImages").removeClass("ieFixes");
for(var e=0;e<d.length;e++)a(d[e]).css("background-image","url("+a(d[e]).find("img").attr("src")+")")})(g,m);d(g,m);var q=-1!=window.location.href.indexOf("nee\x3d"),p={};if(!q&&!k)p=g.find(".gallery a").photoSwipe(m);else if(k){var n=a(g).find(".dmSocialGalleryHolder"),t=n.parent(".dmFacebookGallery"),k=t.find(".photoGalleryViewAll"),p=g.find(".gallery a").on("click",function(e){if(!q){e.preventDefault();e=a(this).find("img").attr("id");var f=c(a(this)),h=t.find("h3.socialgalleryheader"),k=a(this).find("p.caption").html();
a.ajax({url:"/_dm/s/rt/api/public/rt/getonlinephotos?id\x3d"+e+"\x26platform\x3dfb\x26limit\x3d30"}).done(function(e){function q(){a(this).centerImageWithin(a(".photoGalleryThumbs").eq(0),{stretch:!0})}function p(b){var c=f.cache.images[f.currentIndex].caption,d=r[f.currentIndex].likes;b=a(".ps-uilayer");var d=a("\x3cdiv class\x3d'statusContainer' /\x3e").append(d+" Likes  "),e=a("\x3cdiv class\x3d'caption' /\x3e").append(c),l=a("\x3ca class\x3d'closeBtn' /\x3e").html("done").on("click",function(){f.hide();
a(".uiSocialContainer").html("").remove()}),c=a("\x3cdiv class\x3d'uiSocialContainer' /\x3e");c.append(e,d,l);d=a(".uiSocialContainer");0<d.length&&d.remove();b.html("").after(c.css({opacity:1,"background-color":"transparent"}))}var t=a(g);t.data.albumDisplay=n.html();t.data.title=h.html();n.html("");h.html(k);var r=[];a(e).each(function(b){var c=e[b];b=a("\x3cimg /\x3e").attr({src:c.source,alt:c.caption}).get(0);var d=a('\x3cdiv class\x3d"statusContainer" /\x3e'),l;l=c.likes.toString();var g=l.length,
h=l[0],k=l[1];3<g&&(l=7>g?4===g?h+"."+k+"k":h+""+k+"k":7===g?h+"."+k+"m":h+""+k+"m");g=a('\x3cspan class\x3d"likes" /\x3e').html(l);a(g).appendTo(d);c=a('\x3ca class\x3d"thumb" /\x3e').attr({href:c.source,dm_dont_rewrite_url:"true"}).css("background-image","url("+c.source+")").append(b,d);a('\x3cli class\x3d"photoGalleryThumbs" /\x3e').append(c).appendTo(n);d=f.settings.getImageSource(c[0]);g=f.settings.getImageCaption(b);b.onload=q;f.cache.images.push(new Code.PhotoSwipe.Image.ImageClass(c,d,g));
r.push({likes:l})});f=c(n.find("a"));f.addEventHandler(window.Code.PhotoSwipe.EventTypes.onDisplayImage,function(a){p(a)});d(g,m);t=a("\x3ca /\x3e").attr({"class":"backBtn"}).html("back to albums");1>a(g).find("a.backBtn").length&&a(g).append(t);t.on("click",function(){a(this).remove();h.html(a(g).data.title);var c=a(g).data.albumDisplay;n.html(c);b();d(g,m)})})}});k.off("click.showAll").on("click.showAll",function(){"true"===a(this).attr("isall")&&a.DM.scrollPreviewToElement(t)})}}}}0<jQuery(".dmPhotoGallery").length&&
g("/_dm/s/rt/scripts/photoSwipe/klass.min.js",b,!0)};h.initTwitterFeed=function(b){a(document).ready(function(){setTimeout(function(){b=b||{};var c=jQuery(".dmTwitterFeed:visible:in-viewport"),d=jQuery(".dmTwitterFeed:visible");0<c.size()&&h.initTwitterFeedInternal(b,c);d.length>c.length&&(c=a(window),h.isBodyScrollable()||(c=jQuery.layoutManager.getLayoutElement().iscrollBody.element),c.off("scroll.init touchstart.init").on("scroll.init touchstart.init",function(c){a(this).off(c);c=jQuery(".dmTwitterFeed:visible");
h.initTwitterFeedInternal(b,c)}))},600)})};h.initTwitterFeedInternal=function(b,c){b=b||{};0<c.length&&g("http://platform.twitter.com/widgets.js",function(){function d(){""==a(".twitter-timeline-rendered").contents().find("body").html()?setTimeout(function(){d()},100):(setTimeout(function(){h.updateAfterInit()},1500),a.layoutManager&&a.layoutManager.isNee()&&window.editorParent.jQuery&&window.editorParent.jQuery.dmops&&setTimeout(function(){window.editorParent.jQuery.dmops.redrawSelection()},1E3))}
for(var e=0;e<c.length;e++){var f=a(c[e]),g=f.attr("twitterType"),k=f.attr("twitterUserName"),m=f.attr("numberOfTweets");f.hasClass("dmTwitterNoScroll");var q="true"===f.attr("hideHeaderFooter")?'data-chrome\x3d"nofooter noheader"':"",p=f.attr("lang")?f.attr("lang"):"EN";"Profile"==g?f.html('\x3ca class\x3d"twitter-timeline" '+q+' lang\x3d"'+p+'" data-tweet-limit\x3d"'+m+'" data-screen-name\x3d"'+k+'" href\x3d"https://twitter.com/'+k+'" data-widget-id\x3d"346156976859906048"\x3e\x3c/a\x3e'):"ProfileReplies"==
g?f.html('\x3ca class\x3d"twitter-timeline" '+q+' lang\x3d"'+p+'" data-tweet-limit\x3d"'+m+'" data-show-replies\x3d"true" data-screen-name\x3d"'+k+'" href\x3d"https://twitter.com/'+k+'" data-widget-id\x3d"346156976859906048"\x3e\x3c/a\x3e'):"Search"!=g&&f.html('\x3ca class\x3d"twitter-timeline" '+q+' data-tweet-limit\x3d"'+m+'" data-favorites-screen-name\x3d"'+k+'" href\x3d"https://twitter.com/'+k+'/favorites" data-widget-id\x3d"346156976859906048"\x3e\x3c/a\x3e')}twttr.widgets.load();b&&b.callback&&
b.callback();d();a(".dmTwitterFeed").each(function(b){b=a(this);var c=b.find("iframe"),d=a("\x3cdiv\x3e\x3c/div\x3e").addClass("dmTwitterRuntimeWrapper");b.append(d);d.off("click.iframe").on("click.iframe",function(a){var b=c.get(0),b=b.contentDocument?b.contentDocument:b.contentWindow.document;a=b.elementFromPoint(a.offsetX,a.offsetY);b=b.createEvent("HTMLEvents");b.initEvent("click",!0,!0);a&&a.dispatchEvent&&a.dispatchEvent(b)})})},!0)};h.preloadImages=function(a){a=new Image;a.src="/_dm/s/rt/images/emailShareTitleBg.png";
a.src="/_dm/s/rt/images/closeShareWin.png"};h.initPoweredByBanner=function(){function b(){200>new Date-d?setTimeout(b,200):(e=!1,c())}var c=function(){var b=a("#topBanner");if(!h.insideEditor()||!b.data("fixed")){var c=a(".socialRow .dmSocialHub"),d=a(".socialRow .dmSocialParagraph"),e=a("#upperFloatingNav"),f=0==e.length,l=0==c.length||"none"===c.css("display"),g=0==d.length||"none"===d.css("display");if(b.length){var k=10;b.css("top",k);if(!(l&&g&&f)){l||a(window).width()-c.offset().left-c.outerWidth()<
b.width()+10&&(k=c.offset().top+c.height()+10);g||a(window).width()-d.offset().left-d.outerWidth()<b.width()+10&&(k=Math.max(k,d.offset().top+d.height()+10));f||(c=a(window).width()-e.offset().left-e.outerWidth(),d=e.offset().top+e.height(),f=b.offset().top+b.height(),e.offset().top<f&&c<b.width()+10&&(k=Math.max(k,d+10)));if(c=e=document.getElementById("slideDownTrigger"))c=b[0],e.offsetBottom=e.offsetTop+e.offsetHeight,e.offsetRight=e.offsetLeft+e.offsetWidth,c.offsetBottom=c.offsetTop+c.offsetHeight,
c.offsetRight=c.offsetLeft+c.offsetWidth,c=!(e.offsetBottom<c.offsetTop||e.offsetTop>c.offsetBottom||e.offsetRight<c.offsetLeft||e.offsetLeft>c.offsetRight);c&&(k=e.offsetTop+e.offsetHeight);b.css("top",k);b.data("fixed",!0)}}}},d=new Date,e=!1;a(window).unbind("resize.banner").bind("resize.banner",function(){d=new Date;!1===e&&(e=!0,setTimeout(b,200))});c()};h.initSidebar=function(){var b=a(Parameters.SidebarParams.SidebarSelector),c=a(Parameters.SidebarParams.SidebarArrowSelector),d=a(Parameters.NavigationAreaParams.BlockContainerSelector),
e=a(Parameters.SidebarParams.SidebarSelector),f=a(Parameters.NavigationAreaParams.BlockContainerSelector);0==e.length||2==e.children().size()&&e.children().eq(0).hasClass(Parameters.SidebarParams.SidebarInitialClass)&&e.children().eq(1).hasClass(Parameters.SidebarParams.SidebarClosingClass)||0==f.length?0<c.length&&c.parentNode.removeChild(c):(0==c.length&&(c=a("\x3ca\x3e\x3c/a\x3e"),c.attr("id",Parameters.SidebarParams.SidebarArrowSelector.substr(1)),c.addClass("fw-sidebar-arrow"),c.attr("tabindex",
"1"),c.attr("href","javascript: void(0)"),c.unbind("click").click(h.openSideBar),c.css("outline","none"),d.prepend(c)),b.css("opacity","0"),b.changeDisplay("none"),b.css("-webkit-transition","-webkit-transform 0.4s linear, opacity 0.4s linear"),b.css("-moz-transition","-moz-transform 0.4s linear, opacity 0.4s linear"),b.css("-o-transition","-o-transform 0.4s linear, opacity 0.4s linear"),b.css("-ms-transition","-ms-transform 0.4s linear, opacity 0.4s linear"),b.css("-webkit-transform-origin","100% 0%"),
b.css("-moz-transform-origin","100% 0%"),b.css("-o-transform-origin","100% 0%"),b.css("-ms-transform-origin","100% 0%"),b.css("-webkit-transform","scale3d(0,0,0)"),b.css("-moz-transform","scale(0,0)"),b.css("-o-transform","scale(0,0)"),b.css("-ms-transform","scale3d(0,0,0)"),document.getElementById(b.attr("ID")).addEventListener("webkitTransitionEnd",ra,!1))};h.openSideBar=function(){var b=a(Parameters.SidebarParams.SidebarSelector),c=a(Parameters.SidebarParams.SidebarArrowSelector);0<b.length&&0<
c.length&&(c.addClass("fw-sidebar-arrow-close"),c.removeClass("fw-sidebar-arrow"),c.unbind("click").click(h.closeSideBar),a(Parameters.NavigationAreaParams.BlockContainerSelector).css("position","relative"),b.css("top","0px"),b.changeDisplay("block"),b.css("opacity","0"),X()&&b.css("right",0-(a(document).width()-a(window).width())+"px"),b.css("-webkit-transform","scale3d(1,1,1)"),b.css("-moz-transform","scale(1,1)"),b.css("-o-transform","scale(1,1)"),b.css("-ms-transform","scale3d(1,1,1)"),b.css("opacity",
"1"),a("#fw-bigcontain embed, #fw-bigcontain object").changeDisplay("none"))};h.closeSideBar=function(){var b=a(Parameters.SidebarParams.SidebarSelector),c=a(Parameters.SidebarParams.SidebarArrowSelector);0<b.length&&0<c.length&&(c.addClass("fw-sidebar-arrow"),c.removeClass("fw-sidebar-arrow-close"),c.click(h.openSideBar),b.css("-webkit-transform","scale3d(0,0,0)"),b.css("-moz-transform","scale(0,0)"),b.css("-o-transform","scale(0,0)"),b.css("-ms-transform","scale3d(0,0,0)"),b.css("opacity","0"),
(a.browser.msie||a.browser.opera||!X())&&b.changeDisplay("none"),a("#fw-bigcontain embed, #fw-bigcontain object").changeDisplay("block"))};h.hasSideBar=function(){return 0==a(Parameters.SidebarParams.SidebarArrowSelector).length?!1:!0};h.scrollPreviewToElement=function(b,c,d,e){e=e||{};c=c||400;if(null!=b&&0!=b.length){var f=b.offset().top,g="body";if(a.browser.mozilla||a.browser.msie)g="body,html";!h.isBodyScrollable()&&h.isUseLayout()&&0<a("#iscrollBody").has(b).length&&(f-=a.layoutDevice.getTopFixedElementsOffset());
if(!h.isBodyScrollable()&&0<a("#iscrollBody").has(b).length)if(h.isUseIscroll())a.layoutManager.getLayoutElement().iscrollBody.iscrollObject.scrollToElement(b.get(0),400);else{g="#iscrollBody";b=[0,0];try{b=[a.layoutManager.getLayoutElement().iscrollBody.element.scrollLeft(),a.layoutManager.getLayoutElement().iscrollBody.element.scrollTop()]}catch(k){b=[0,0]}f+=b[1]}b=a(g).scrollTop();var m=window.editorParent.$&&window.editorParent.$("#_preview").height();a.DM.isBodyScrollable()||(m=a("#iscrollBody").height());
m||(m="undefined"!=typeof window.innerWidth?window.innerHeight:0);var q=window.getEventsFirePolicy?window.getEventsFirePolicy():!0;if(e.forceScroll||b>f||f>b+m)window.setEventsFirePolicy&&window.setEventsFirePolicy(!1),a(g).animate({scrollTop:f-(e.offsetTop?e.offsetTop:36)},c,function(){window.setEventsFirePolicy&&window.setEventsFirePolicy(q);d&&d()})}};h.getScrollingPosition=function(a){return da(a)};h.pullContent=function(){a.dmrt.isEditorMode&&window.editorParent.$&&window.editorParent.$.dmx.current.element&&
window.editorParent.$.contentImport.open(window.editorParent.$.dmx.current.element)};h.afterAjaxGeneralInits=function(){h.initCompanyDescription();h.loadExternalScriptsAsync();h.initNavbar();h.initSidebar();h.initTabs();h.ajaxExt();h.initForm();h.initListWidget();h.initDatePicker();h.initAudioPlayer();h.initRSS();h.initFacebookScripts();h.initDisqusComments();h.initBlogs();h.initImageSlider();h.initMenusArrows();h.initCouponWidget();h.initExternalAppButtons();h.initClickToCallWidget();a.dmrt.initReady(a.layoutDevice?
a.layoutDevice.type:"mobile")};h.afterAjaxGeneralLoadInits=function(){h.initBackToTop();h.initSmartTables();h.initPoweredByBanner();a.dmrt.initLoad(a.layoutDevice?a.layoutDevice.type:"mobile")};h.displayGalleryModuleImage=function(b){var c=V()+Q()/2-50,c=[O()/2,c];K(!0,c);var d=a("#"+GALLERY_CONTAINER_ID);d.html("");var e=a('\x3cimg ID\x3d"'+GALLERY_CONTAINER_ID_IMG+'" onclick\x3d"jQuery.DM.blackScreen(false); jQuery.DM.ClearGalleryModule();" ontouchmove\x3d"touchMove(event);"\x3e\x3c/img\x3e');e.changeDisplay("none");
e.css("border","2px solid #FFFFFF");d.append(e);var f=null,g=null;0<e.length&&e.attr("src",b).load(function(){f=this.width;g=this.height;e.data("originalWidth",f);e.data("originalHeight",g);var b=Math.min(O()/document.documentElement.clientWidth,Math.min(Q()/g,O()/f)),b=.85*b;e.width(Math.round(f*b));e.height(Math.round(g*b));d.css({top:1*V()+(Q()-1*e.height())/2-8+"px",left:Math.round((O()-e.width())/2)+"px"}).width(Math.round(e.width()));d.changeDisplay("block");e.changeDisplay("block");b=a('\x3cdiv ID\x3d"closeImageModule" onclick\x3d"jQuery.DM.blackScreen(false); jQuery.DM.ClearGalleryModule();"\x3eclose\x3c/div\x3e');
b.css("color","#000000");b.css("background-color","#FFFFFF");b.css("text-align","center");b.css("font-family","Arial");b.css("font-size","13px");b.css("margin-top","10px");b.css("-moz-border-radius","8px");b.css("border-radius","8px");b.css("border","1px solid #333333");b.css("margin-left","auto");b.css("margin-right","auto");b.css("cursor","pointer");b.width(40);b.height(17);d.append(b);K(!1);h.blackScreen(!0)})};h.ClearGalleryModule=function(){var b=a("#"+GALLERY_CONTAINER_ID);0<b.length&&b.html("")};
h.getScreenBrigthness=function(b){var c=a(Parameters.BackgroundElement);null!=b&&(c=a(b));if(null!=c){b=c.css("background-color");if(null==b)return 255;if(-1==b.indexOf("rgba")){c=/rgb\((\d+), (\d+), (\d+)\)/;b=c.exec(b);var c=parseInt(b[1],10),d=parseInt(b[2],10),e=parseInt(b[3],10),c=(299*c+587*d+114*e)/1E3}else c=/rgba\((\d+), (\d+), (\d+), (\d+)\)/,b=c.exec(b),c=parseInt(b[1],10),d=parseInt(b[2],10),e=parseInt(b[3],10),b=parseInt(b[4],10),c=(299*c+587*d+114*e)/1E3,0==b&&(c=255);return c}return 255};
h.logToDMAjax=function(a){J(a)};h.initSwipeSelectors=function(a,b,c){};h.getCurrentPageUrl=function(){var b="";"DUDAONE"==Parameters.SiteType?b=n.pageAlias:(b=n?n.pageUrl:"",-1!=b.indexOf("url\x3d")&&(b=unescape(a.DM.getQueryParam(n.pageUrl,"url"))));return b};h.getPageFromCache=function(a){return null!=a?M(a):null};h.getPageUrlByPageId=function(b){return null!=b&&(b=M(b),null!=b)?(b=b.pageUrl,-1!=b.indexOf("url\x3d")&&(b=unescape(a.DM.getQueryParam(n.pageUrl,"url"))),b):null};h.darkenPreviewScreen=
function(b){var c=a("#dmBlackWrapper");!1==b?0<c.length&&c.fadeOut(400,function(){a("#dmBlackWrapper").remove()}):0==c.length&&(c=a("\x3cdiv\x3e\x3c/div\x3e"),b=a("body"),h.isBodyScrollable()||(b=a("#"+FIRST_CONTAINER_ID)),b.append(c),c.unbind("touchmove.move").bind("touchmove.move",function(a){a.preventDefault()}),c.attr("id","dmBlackWrapper"),c.css("position","absolute"),c.changeDisplay("none"),c.css("overflow","hidden"),c.css("left","0px"),c.css("top","0px"),c.css("background-color","#000000"),
c.css("opacity","0.6"),c.css("z-index","9"),c.width(a(document).width()),h.isBodyScrollable()?c.height(a(document).height()):c.height(a("#"+FIRST_CONTAINER_ID).height()),c.fadeIn(400))};h.initBackToOuterLinks=function(b){if("undefined"===typeof isDudaone||!isDudaone)if(!a.DM.getQueryParam(window.location.href,"nee")||"DUDAONE"==Parameters.SiteType){var c=Parameters.HomeUrl.trim().replace("?preview\x3dtrue",""),d=window.editorParent;try{var e=d.$&&d.$.previewExternalLink}catch(f){return}e&&(d.$.previewExternalLink.setLastEditePage(window.location.href),
a("body").off("click.assignback").on("click.assignback","a",function(b){b=a(this);var e=b.attr("href")||"";"_blank"!=b.attr("target")&&("dmBackBtn"!==b.attr("id")&&e&&""!=e&&-1==e.indexOf("/site/"+Parameters.SiteAlias)&&"true"!=b.attr("dm_dont_rewrite_url")||0==e.indexOf("http://m.dudamobile.com")||"classic_link"==a(this).attr("id")||-1<e.indexOf("_dm/s/rt/widgets/opentable/opentable.jsp"))&&(-1==e.indexOf(c)||0==e.indexOf("http://m.dudamobile.com")||"classic_link"==a(this).attr("id")||-1<e.indexOf("_dm/s/rt/widgets/opentable/opentable.jsp")?
d.$.previewExternalLink.setBackFromExternal(!0):d.$.previewExternalLink.setLastEditePage(e))}))}};h.hideAllPopups=function(){"function"===typeof dmHidePopup&&dmHidePopup()};h.testTouch=function(){var b=!1;"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?(b=!0,a("html").addClass("touch")):a("html").addClass("pointer");return b};a(document).ready(function(){a.DM.isTouchDevice=a.DM.testTouch();if(RegExp("android","gi").test(navigator.appVersion)){H=Enum.AgentType.Android;
var b=a("\x3cstyle\x3e* {-webkit-tap-highlight-color: rgba(0, 0, 0, 0); }\x3c/style\x3e");a("head").append(b)}else if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i))H=Enum.AgentType.Iphone;else if(navigator.userAgent.match(/BlackBerry/i))H=Enum.AgentType.BlackBerry;else if(navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/iEMobile/i))H=Enum.AgentType.WindowsMobile;Parameters.CurrentThemeName.indexOf("NoiseBG");if(H==
Enum.AgentType.WindowsMobile||7===aa||a&&a.browser&&a.browser.msie&&10>a.browser.version)Parameters.AllowAjax=!1;h.updateWidth();Y||(Parameters.trans=H===Enum.AgentType.Iphone?"translate3d":"translate",c(),Parameters.LinksToAjaxExceptions=(e()?ua:ta).concat(Parameters.LinksToAjaxExceptions),Parameters.AllowAjax?u():p(),X()&&Parameters.AllowAjax||h.disableAnimations(),Parameters.UseGalleryModule&&m(),h.afterAjaxGeneralInits(),h.preloadImages(),G(n),f(),Y=!0);a("body, html").scrollTop(0);Parameters.AllowAjax&&
(v(),Parameters.IsSEOFriendlyLinks&&window.history&&(window.onpopstate=function(a){a=a.target.location.pathname+a.target.location.search;oa(hex_sha1(a)+"",a)}));a(document).off("touchend.temporaryblock click.temporaryblock");null!=Parameters.StartupCommand&&Parameters.StartupCommand();(function(a){a(document).ready(function(){var b,c;isDudaone&&(c=a("#dm").find(".imageWidget, .dmImageSlider, .dmPhotoGallery:not(.dmFacebookGallery), .dmHoursOfOperation"),a.each(c,function(c,d){b=a(d);a(d).attr({editableWidget:"true"});
b.hasClass("imageWidget")?a(d).attr({"data-widget-type":"image"}):b.hasClass("dmImageSlider")?a(d).attr({"data-widget-type":"imageSlider"}):b.hasClass("dmPhotoGallery")?a(d).attr({"data-widget-type":"photoGallery"}):b.hasClass("dmHoursOfOperation")&&a(d).attr({"data-widget-type":"hoursOfOperation"})}))})})(jQuery)});a(window).load(function(a){h.afterAjaxGeneralLoadInits()})})(jQuery,window);
function dm_gaq_push_url(a){_dm_gaq.systemGaqID&&_gaq.push(["_trackPageview",a]);_dm_gaq.systemAggregatedGaqID&&_dm_gaq.systemAggregatedGaqID!=_dm_gaq.systemGaqID&&_gaq.push(["b._trackPageview",a]);_dm_gaq.externalGaqID&&_gaq.push(["c._trackPageview",a]);"undefined"!==typeof _paq&&null!=_paq&&_paq.push(["trackPageView",a]);window.dmsnowplow&&dmsnowplow("trackPageView")}
function dm_gaq_push_event(a,b,d,c,e,f){f=f||{};c||(c=_dm_gaq.siteAlias);null==d&&(d=void 0);try{"undefined"!=typeof _paq&&_paq&&_paq.push(["trackEvent",a,b])}catch(g){}_dm_gaq.systemGaqID&&(f.hitCallBack&&_gaq.push(["_set","hitCallback",function(){_gaq.push(["_set","hitCallback",null]);document.location=e.href}]),_gaq.push(["_trackEvent",a,c,b,d]));_dm_gaq.systemAggregatedGaqID&&_dm_gaq.systemAggregatedGaqID!=_dm_gaq.systemGaqID&&_gaq.push(["b._trackEvent",a,c,b,d]);_dm_gaq.externalGaqID&&_gaq.push(["c._trackEvent",
a,c,b,d]);window.dmsnowplow&&dmsnowplow("trackStructEvent","site",a,b,d);if(e&&(d=$(e).closest("[data-rule]"),0<d.length)){b=parseInt(d.attr("data-rule"));d=d.attr("data-rule-type");var k=d+"__"+b;a="insite_"+a;_dm_gaq.systemGaqID&&_gaq.push(["_trackEvent",a,c,k]);_dm_gaq.systemAggregatedGaqID&&_dm_gaq.systemAggregatedGaqID!=_dm_gaq.systemGaqID&&_gaq.push(["b._trackEvent",a,c,k]);_dm_gaq.externalGaqID&&_gaq.push(["c._trackEvent",a,c,k]);window.dmsnowplow&&dmsnowplow("trackStructEvent","insite",a,
d,b)}if(_dm_gaq.systemGaqID&&f.hitCallBack)return!1}String.prototype.startsWith=function(a){return 0===this.indexOf(a)};String.prototype.endsWith=function(a){return this.match(a+"$")==a};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};replaceAll=function(a,b,d){return a.replace(new RegExp(b,"g"),d)};
function replaceElements(a,b){jQuery(".hiddenSubMenu").each(function(a){jQuery(this).addClass("display_None_important")});jQuery("#"+a).addClass("display_None_important");jQuery("#"+b).removeClass("display_None_important");jQuery("#"+b).removeClass("dmDisplay_None")}
(function(a){a.fn.blink=function(b){function d(d){d=d||a(this);d.data("blinkStop")||d.fadeOut(b.fadeOut,c)}function c(c){c=c||a(this);c.data("blinkStop")||c.fadeIn(b.fadeIn,d)}if("stop"==b)return this.data("blinkStop",!0).stop(!0,!0).show();this.data("blinkStop",!1);b=a.extend({},{fadeIn:100,fadeOut:300},b||{});d(this);return this}})(jQuery);
(function(a){_hideMe=function(b,d){if(b){var c=a(b),e=c.closest("ul");c.closest("li").remove();a("#"+d).before(e);a("#"+d).closest("ul").changeDisplay("");a("#"+d).remove()}};_launchHashed=function(b){if(b){var d=a(b),c=d.closest("li");b=c.find("ul:first");if(0<b.find("li").size()){var e=c.closest("ul"),c=c.attr("id"),f=a('\x3cli class\x3d"p_list_item dmBackToMenuLi"\x3e\x3c/li\x3e');f.addClass("dmMore");f.attr("id","dmMore");d=d.attr("btmTitle")||"Back to menu";f.html("\x3ca href\x3d'#' onclick\x3d\"var event \x3d arguments[0] || window.event;_hideMe(this,'placeHolder_"+
c+"');event.stopPropagation();$.DM.afterExpandCollapse();return false;\" class\x3d'dmUDNavigationItem_dmLess dmBackToMenuA'\x3e\x3cdiv class\x3d'navIconBg'\x3e\x3cdiv class\x3d'navIcon'\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'navText'\x3e"+d+"\x3c/div\x3e\x3cdiv class\x3d'navArrowBg'\x3e\x3cdiv class\x3d'navArrow'\x3e\x3c/div\x3e\x3cdiv class\x3d'navArrowBottom'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/a\x3e");b.prepend(f);b.after("\x3cdiv class\x3d'hashedPlaceHolder' id\x3d'placeHolder_"+c+"'\x3e\x3c/div\x3e");
b.insertAfter(e);b.removeClass("dmDisplay_None");b.addClass("dmNavCustom");e.changeDisplay("none");a.DM.afterExpandCollapse()}}jQuery.DM.isUseLayout()&&a.layoutManager.cssCalculations()};a.fn.changeDisplay=function(b,d){if(b){b=b.replace("!important","");a(this).css("display","");var c=d?"":" !important";a(this).attr("style",(a(this).attr("style")?a(this).attr("style")+";":"")+"display: "+b+c)}""==b&&a(this).css("display",b)};a.fn.dmCss=function(b,d){var c="";d||(c=a(this).css(b));""==d?c=a(this).css(b,
""):-1!=d.indexOf("!important")?(d=d.replace("!important",""),a(this).css(b,""),a(this).each(function(){var c=a(this).attr("style");a(this).attr("style",(c?c+";":"")+b+": "+d+" !important")}),c=a(this)):c=a(this).css(b,d);return c};a.fn.naturalSize=function(){if(this){var b=a(this);if(b.is("img")){if(void 0==b.prop("naturalWidth")){var d=a("\x3cimg/\x3e").attr("src",b.attr("src"));b.prop("naturalWidth",d[0].width);b.prop("naturalHeight",d[0].height)}return{width:b.prop("naturalWidth"),height:b.prop("naturalHeight")}}}return{}};
a.fn.centerImageWithin=function(b,d){d=d||{};var c=a(this),e=a(b);if(c.is("img")&&0<e.length){c.attr("dm","true");var e=c.naturalSize(),f=e.height,g=e.width;if(!f||!g||0==f*g){var k=c.attr("dm_crop_dim"),e=!1;k&&(k=k.split("_"))&&4==k.length&&(e=!0);e||(c.attr("irh"),c.attr("irw"));return!1}var e=d.forceContainerHeight||b.height(),k=d.forceContainerWidth||b.width(),m=!d.stretch&&g<=k&&f<=e;c.css("height","");c.css("left","");c.css("width","");c.css("top","");c.css("max-width","none");m?(e=Math.ceil(f)-
e,c.css("top",""+(0-e/2)+"px")):(m=k/g*f,f=e/f*g,g=m>=e,d.stretch&&g||!d.stretch&&!g?(c.dmCss("width",k+"px !important"),c.dmCss("max-width",k+"px !important"),c.dmCss("min-width",k+"px !important"),c.dmCss("height",Math.ceil(m)+"px !important"),e=Math.ceil(m)-e,c.css("top",""+(0-e/2)+"px")):(c.dmCss("height",e+"px !important"),c.dmCss("width",Math.ceil(f)+"px !important"),c.dmCss("max-width",Math.ceil(f)+"px !important"),c.dmCss("min-width",Math.ceil(f)+"px !important"),e=Math.ceil(f)-k,d.stretch&&
c.css("left",""+(0-e/2)+"px")));return!0}}})(jQuery);$.fn.imgCover=function(a){a=a||{type:"cover"};this.each(function(b,d){var c=$(d);if(c.is("img")){var e=c.parent(),f=c.attr("src");c.hide();e.addClass("dmCoverImgContainer").css("background-image","url("+f.replace("'","\\'")+")").css("background-size",a.type).css("background-repeat","no-repeat").css("background-position","center")}});return this};
jQuery.fn.center=function(){this.css("position","absolute");this.css("top",(jQuery(window).height()-this.outerHeight())/2+jQuery(window).scrollTop()+"px");this.css("left",(jQuery(window).width()-this.outerWidth())/2+jQuery(window).scrollLeft()+"px");return this};
function printCoupon(){var a=$("#couponImg").attr("src"),b=window.open("","my div","height\x3d400,width\x3d600");b.document.write("\x3chtml\x3e\x3chead\x3e\x3ctitle\x3e\x3c/title\x3e");b.document.write("\x3c/head\x3e\x3cbody \x3e");b.document.write('\x3cimg src\x3d"'+a+'"\x3e');b.document.write("\x3c/body\x3e\x3c/html\x3e");b.document.close();b.focus();b.print();b.close();return!0}
function showCouponPopup(a,b,d,c){var e=$('\x3cimg id\x3d"couponImg"\x3e');e.attr("src",b);a.find(".popupData").empty();e.appendTo(a.find(".popupData"));$.layoutDevice&&"desktop"==$.layoutDevice.type&&$('\x3cp\x3e\x3cinput class\x3d"ptOrangeBtn" type\x3d"button" value\x3d"Print Coupon" onclick\x3d"printCoupon()"/\x3e\x3c/p\x3e').appendTo(a.find(".popupData"));dmShowPopup(a,"","couponPopupData",d,c+50)}
function dmShowPopup(a,b,d,c,e){var f=jQuery(".dmPopup"),g=f.first(),k=jQuery("body \x3e .dmPopup");f.not(g).remove();0==k.size()&&g.appendTo("body");k.attr("class","dmPopup");d&&k.addClass(d);a.find(".popupData").clone().appendTo(".dmPopup .data").show();g.find(".dmPopupTitle").html("\x3cspan\x3e\x3c/span\x3e"+b);jQuery("#dmPopupMask").height(document.body.offsetHeight).width(jQuery(window).width()).show();k.find("*").andSelf().each(function(){var a=$(this).attr("class");a&&($(this).attr("class",
""),$(this).attr("class",a))});c=c||700;e=e||400;b=jQuery(window).height();d=jQuery(window).scrollTop();c=Math.min(c,jQuery(window).width()-20);e=Math.min(e,b-20);g=jQuery(window).width()/2-c/2-10;f=b/2-e/2+d;$("body").attr("originalOverflow",$("body").css("overflow")).css("overflow","hidden");c={top:f+"px",width:c+"px",left:g+"px",minHeight:e+"px"};var m;k.show();k.height()+f>b+d&&(c.height=e+"px",m=k.find(".dmPopupTitle").outerHeight(!0));k.css(c);!isDudaone&&$.isNumeric(m)&&k.find("\x3e .data").css("height",
e-m+"px");window.event&&window.event.stopPropagation();if(a.hasClass("dmShare"))k.off("click.share").on("click.share","div.dmShareWidget a",function(a){if(window.editorParent&&window.editorParent.jQuery&&(window.editorParent.jQuery.dmfw||window.editorParent.jQuery.onefw)){a.preventDefault();a.stopPropagation();var b={relativeDirection:"top",offset:window.editorParent.jQuery.onefw?0:70,tipsContainer:window.editorParent.jQuery&&window.editorParent.jQuery.onefw?window.editorParent.$("#_preview_w"):window.editorParent.$("#neePrevieweviceWrapper"),
bodyText:"You can't use the this widget to share a site from Preview mode.",title:"Share"};window.editorParent.$&&window.editorParent.$.dmpages&&window.editorParent.$.dmpages.showOuterLinkPrompt(null,"_blank",$(a.target),b)}});return!1}function dmHidePopup(a){$("body").css("overflow",$("body").attr("originalOverflow"));jQuery("#dmPopupMask").hide();jQuery(".dmPopup").hide();jQuery(".dmPopup .data").empty();a&&(a.cancelBubble=!0,a.stopPropagation());return!1}
function handleImageLoadError(a){a=jQuery(a);a.css("opacity",0);a.data("dm-image-path")&&(a.removeAttr("data-dm-image-path").removeData("dm-image-path").on("load",function(){var a=$(this);a.off("load");a.css("opacity",1)}),a.attr("src",a.data("dm-image-path")))}
function setSmartSiteCookiesInternal(a,b,d,c){var e=new Date,f=$.getCookie(a);null==f&&(f=e.getTime());$.setCookie(b,f,expireDays);$.setCookie(a,e.getTime(),expireDays);a=1*$.getCookie(d)+1;if(1==a||e.getTime()-f>visitLength)$.setCookie(c,e.getTime(),expireDays),$.setCookie(d,a,expireDays)}function setLoaderSize(a,b,d){d=d||$("body");var c=d.find(".coloumns");if(null!=c)c.css("height",a+"px").css("width",b+"px");else for(c=1;13>c;c++)d.find("#coloumn"+c).height(a),d.find("#coloumn"+c).width(b)}
function setLoaderColor(a,b){b=b||$("body");var d=b.find(".coloumns");if(null!=d)d.css("background-color",a);else for(d=1;13>d;d++)b.find("#coloumn"+d).css("background",a)}function showDefaultLoader(a,b){setLoaderSize(10,3,a);setLoaderColor("black",a);a.closest("body").css("height","100%");a.css("position","absolute").css("display","block").css("z-index","100000").css("left",$(b).width()/2+"px").css("top",$(b).height()/2+"px");a.closest("body").css("height","");a.find("#imageZone").show()}
(function(a){a.belowthefold=function(b,d){return a(window).height()+a(window).scrollTop()<=a(b).offset().top-d.threshold};a.abovethetop=function(b,d){return a(window).scrollTop()>=a(b).offset().top+a(b).height()-d.threshold};a.rightofscreen=function(b,d){return a(window).width()+a(window).scrollLeft()<=a(b).offset().left-d.threshold};a.leftofscreen=function(b,d){return a(window).scrollLeft()>=a(b).offset().left+a(b).width()-d.threshold};a.inviewport=function(b,d){return!a.rightofscreen(b,d)&&!a.leftofscreen(b,
d)&&!a.belowthefold(b,d)&&!a.abovethetop(b,d)};a.extend(a.expr[":"],{"below-the-fold":function(b,d,c){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b,d,c){return a.abovethetop(b,{threshold:0})},"left-of-screen":function(b,d,c){return a.leftofscreen(b,{threshold:0})},"right-of-screen":function(b,d,c){return a.rightofscreen(b,{threshold:0})},"in-viewport":function(b,d,c){return a.inviewport(b,{threshold:0})}})})(jQuery);
(function(){function a(){}function b(a,b){for(var d=a.length;d--;)if(a[d].listener===b)return d;return-1}var d=a.prototype;d.getListeners=function(a){var b,d,g=this._getEvents();if("object"==typeof a)for(d in b={},g)g.hasOwnProperty(d)&&a.test(d)&&(b[d]=g[d]);else b=g[a]||(g[a]=[]);return b};d.flattenListeners=function(a){var b,d=[];for(b=0;a.length>b;b+=1)d.push(a[b].listener);return d};d.getListenersAsObject=function(a){var b,d=this.getListeners(a);return d instanceof Array&&(b={},b[a]=d),b||d};
d.addListener=function(a,d){var f,g=this.getListenersAsObject(a),k="object"==typeof d;for(f in g)g.hasOwnProperty(f)&&-1===b(g[f],d)&&g[f].push(k?d:{listener:d,once:!1});return this};d.on=d.addListener;d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})};d.once=d.addOnceListener;d.defineEvent=function(a){return this.getListeners(a),this};d.defineEvents=function(a){for(var b=0;a.length>b;b+=1)this.defineEvent(a[b]);return this};d.removeListener=function(a,d){var f,g,k=this.getListenersAsObject(a);
for(g in k)k.hasOwnProperty(g)&&(f=b(k[g],d),-1!==f&&k[g].splice(f,1));return this};d.off=d.removeListener;d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)};d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)};d.manipulateListeners=function(a,b,d){var g,k,m=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(g=d.length;g--;)m.call(this,b,d[g]);else for(g in b)b.hasOwnProperty(g)&&(k=
b[g])&&("function"==typeof k?m.call(this,g,k):a.call(this,g,k));return this};d.removeEvent=function(a){var b,d=typeof a,g=this._getEvents();if("string"===d)delete g[a];else if("object"===d)for(b in g)g.hasOwnProperty(b)&&a.test(b)&&delete g[b];else delete this._events;return this};d.emitEvent=function(a,b){var d,g,k,m,u=this.getListenersAsObject(a);for(k in u)if(u.hasOwnProperty(k))for(g=u[k].length;g--;)d=u[k][g],m=d.listener.apply(this,b||[]),m!==this._getOnceReturnValue()&&!0!==d.once||this.removeListener(a,
u[k][g].listener);return this};d.trigger=d.emitEvent;d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)};d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this};d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};d._getEvents=function(){return this._events||(this._events={})};"function"==typeof define&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=
a:this.EventEmitter=a}).call(this);
(function(a){var b=document.documentElement,d=function(){};b.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:b.attachEvent&&(d=function(b,c,d){b[c+d]=d.handleEvent?function(){var b=a.event;b.target=b.target||b.srcElement;d.handleEvent.call(d,b)}:function(){var c=a.event;c.target=c.target||c.srcElement;d.call(b,c)};b.attachEvent("on"+c,b[c+d])});var c=function(){};b.removeEventListener?c=function(a,b,c){a.removeEventListener(b,c,!1)}:b.detachEvent&&(c=function(a,b,c){a.detachEvent("on"+
b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});b={bind:d,unbind:c};"function"==typeof define&&define.amd?define(b):a.eventie=b})(this);
(function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function d(a){var b=[];if("[object Array]"===k.call(a))b=a;else if("number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function c(a,c){function k(a,c,f){if(!(this instanceof k))return new k(a,c);"string"==typeof a&&(a=document.querySelectorAll(a));this.elements=d(a);this.options=b({},this.options);"function"==typeof c?f=c:b(this.options,c);f&&this.on("always",f);this.getImages();e&&(this.jqDeferred=
new e.Deferred);var g=this;setTimeout(function(){g.check()})}function r(a){this.img=a}k.prototype=new a;k.prototype.options={};k.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;b>a;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);for(var c=c.querySelectorAll("img"),d=0,e=c.length;e>d;d++)this.addImage(c[d])}};k.prototype.addImage=function(a){a=new r(a);this.images.push(a)};k.prototype.check=function(){function a(e,k){return b.options.debug&&g&&f.log("confirm",
e,k),b.progress(e),c++,c===d&&b.complete(),!0}var b=this,c=0,d=this.images.length;if(this.hasAnyBroken=!1,!d)return this.complete(),void 0;for(var e=0;d>e;e++){var k=this.images[e];k.on("confirm",a);k.check()}};k.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a);b.jqDeferred&&b.jqDeferred.notify(b,a)})};k.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,
b),b.emit("always",b),b.jqDeferred)b.jqDeferred[b.hasAnyBroken?"reject":"resolve"](b)})};e&&(e.fn.imagesLoaded=function(a,b){return(new k(this,a,b)).jqDeferred.promise(e(this))});var v={};return r.prototype=new a,r.prototype.check=function(){var a=v[this.img.src];if(a)return this.useCached(a),void 0;if(v[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;a=this.proxyImage=new Image;c.bind(a,"load",this);c.bind(a,
"error",this);a.src=this.img.src},r.prototype.useCached=function(a){if(a.isConfirmed)this.confirm(a.isLoaded,"cached was confirmed");else{var b=this;a.on("confirm",function(a){return b.confirm(a.isLoaded,"cache emitted confirmed"),!0})}},r.prototype.confirm=function(a,b){this.isConfirmed=!0;this.isLoaded=a;this.emit("confirm",this,b)},r.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},r.prototype.onload=function(){this.confirm(!0,"onload");this.unbindProxyEvents()},r.prototype.onerror=
function(){this.confirm(!1,"onerror");this.unbindProxyEvents()},r.prototype.unbindProxyEvents=function(){c.unbind(this.proxyImage,"load",this);c.unbind(this.proxyImage,"error",this)},k}var e=a.jQuery,f=a.console,g=void 0!==f,k=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],c):a.imagesLoaded=c(a.EventEmitter,a.eventie)})(window);
$.extend({dmrt:function(){var a={},b=$.DM.getQueryParam(window.location.href,"nee")?!0:!1;$.modules={};return{initReady:function(d){for(var c in a)null!=a[c][d]&&null!=a[c][d].ready?a[c][d].ready(b):a[c]["default"].ready(b)},initLoad:function(d){for(var c in a)null!=a[c][d]&&null!=a[c][d].load?a[c][d].load(b):a[c]["default"].load(b)},refreshComponent:function(b,c,e){a[b][c].ready?a[b][c].ready(e):a[b]["default"].ready(e);a[b][c].load?a[b][c].load(e):a[b]["default"].load(e)},initGoogleMapsWidgets:function(){var b,
c;for(c in a)(b=$.modules[c])&&typeof b.isGoogleMapsWidget&&b.initGoogleMaps&&b.initGoogleMaps(google)},register:function(b,c){a[b]=c},components:a,isEditorMode:b}}()});(function(a){a.extend(a.modules,{basemodule:{}});a.dmrt.register("basemodule",{"default":{ready:function(a){},load:function(a){}},mobile:{},tablet:{},desktop:{}})})(jQuery);
(function(a,b){function d(d){var g=a.layoutDevice?a.layoutDevice.type:"mobile";d=d||b.google;switch(g){case "mobile":e(d);break;case "tablet":c(d);break;case "desktop":c(d);break;default:c(d)}}function c(b){jQuery(".dmGeoLocation").each(function(c,d){function e(c){if(c){a(F).empty().attr("style","");x.hide();if(A.showAll){B.fadeIn("fast");var d=new b.maps.Map(F,{mapTypeId:b.maps.MapTypeId.ROADMAP}),g=new b.maps.LatLngBounds,k;for(c=0;c<q.length;c++)k=new b.maps.LatLng(q[c].latitude,q[c].longitude),
function(c){var g=new b.maps.Marker({position:k,title:q[c].title,map:d,clickable:!0});b.maps.event.addListener(g,"click",function(){u(q[c].uniqueId);t.hide();y.css("visibility","hidden");var b=a(".dmGeoViewStateWrapper");a(".dmStState").removeClass("isOff");b.removeClass("isOff");e(!0);x.show()})}(c),g.extend(k);d.fitBounds(g)}else{B.fadeIn("fast");g=new b.maps.LatLngBounds;c={zoom:14,center:new b.maps.LatLng(A.lat,A.lon),mapTypeId:b.maps.MapTypeId.ROADMAP};var p=new b.maps.Map(F,c);(function(){var a=
new b.maps.Marker({position:new b.maps.LatLng(A.lat,A.lon),title:A.title,map:p,clickable:!0});b.maps.event.addListener(a,"click",function(){r.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");x.show();B.hide();t.hide()});g.extend(new b.maps.LatLng(A.lat,A.lon))})()}B.fadeIn("fast")}else B.hide(),A.showAll&&r.find(".dmGeoLocBtn").removeClass("geoDisabledState"),A.showAll?t.fadeIn("fast"):x.fadeIn("fast")}function u(b){a(".dmGeoStList").text(a(".dmGeoStList").attr("info"));var c=jQuery.grep(q,
function(a){return a.uniqueId==b})[0];A.showAll=!1;A.lat=c.latitude;A.lon=c.longitude;A.title=c.title;x.find(".dmGeoSVTitle").text(c.title);var d=c.phone?c.formattedAddress+", "+c.phone:c.formattedAddress;x.find(".dmGeoSVAddr").text(d);(c.phone||c.showPhone)&&x.find(".dmGeoSVPhone a").attr({href:"tel:"+c.phone,phone:c.phone});x.find(".dmGeoSVPhone").toggle(c.showPhone);if(c.url){var d=a(c.url),f=d.attr("raw_url");if(isDudaone&&f&&0==f.indexOf("/site/")){var f=a.layoutDevice?a.layoutDevice.type:"mobile",
g=d.attr("href");d.attr("href",g+("\x26nee\x3dtrue\x26showOriginal\x3dtrue\x26dm_checkSync\x3d1\x26dm_device\x3d"+f))}d.addClass("dmGeoSVGoToPage");x.find(".dmGeoSVGoToPage").replaceWith(d);isDudaone&&a.DM.initAjaxLinks(d);d.show()}else x.find(".dmGeoSVGoToPage").hide();x.find(".dmGeoSVMoreInfo").text(c.description||"");x.find(".dmGeoSVSeeAll").unbind("click").click(function(){A.showAll=!0;x.hide();t.show();r.find(".dmGeoLocBtn").removeClass("geoDisabledState");a(".dmGeoStList").text(a(".dmGeoStList").attr("list"));
e(!0);a(".dmCall.voipReplacement").removeClass("revealPhoneNum");y.css("visibility","visible")})}function p(b,c){for(var d=[],e=0;e<q.length;e++)d.push({latitude:q[e].latitude,longitude:q[e].longitude,id:q[e].uniqueId});for(var f=[],e=0;e<d.length;e++){var g=d[e],k=c-g.longitude,m=b-g.latitude,k=Math.sqrt(k*k+m*m);f[e]=g;f[e].distance=k}f.sort(function(a,b){return a.distance>b.distance?1:-1});d=f[0].id;r.find(".dmGeoLocBtn").addClass("geoDisabledState");t.find('li[geoid\x3d"'+d+'"]').data("mode",
a(".dmGeoViewStateWrapper").hasClass("isOff")?"map":"list").click()}var r=a(d),v=r.attr("data-editor"),q=JSON.parse(Base64.decode(v)).locations,t=r.find(".dmGeoMLocList"),B=r.find(".dmGeoMLocMapView"),x=r.find(".dmGeoSingleView").hide(),F=B.find(".dmGeoMLocMapViewMap")[0],v=r.find(".dmGeoMLocList li"),y=r.find(".dmGeoDesktopTitle"),A={},L=0,I=0;A.showAll=!0;var G=r.find(".dmGeoViewStateWrapper"),E=r.find(".dmGeoStMap");r.find(".dmGeoStList").unbind("click").click(function(){a.dmrt.isEditorMode&&window.editorParent.jQuery&&
window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode||(E.removeClass("isOff"),G.removeClass("isOff"),e(!1))});e(!0);E.unbind("click").click(function(){a.dmrt.isEditorMode&&window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode||(a(this).hasClass("isOff")?(E.removeClass("isOff"),G.removeClass("isOff"),e(!1)):(E.addClass("isOff"),G.addClass("isOff"),e(!0)),"undefined"!==typeof _&&_.isUseIscroll()&&a.layoutManager.refreshIscroll())});
for(c=0;c<v.length;c++)a(v[c]).unbind("click").click(function(){a.layoutManager._isEditorMode&&window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode||(u(a(this).attr("geoid")),y.css("visibility","hidden"),e(!0),x.show(),t.hide())});r.on("click",".dmGeoLocBtn",function(b){a.layoutManager._isEditorMode&&window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode||navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){currentUserPos=
a;L=a.coords.latitude;I=a.coords.longitude;r.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");p(L,I)},function(a){_userAgent==Enum.AgentType.Iphone?navigator.userAgent.match(/CriOS/i)?alert("We do not have permission to access your location. Please enable location access to Chrome in 'Settings / Privacy / Location Services'"):navigator.userAgent.match(/Safari/i)?alert("We do not have permission to access your location. Please enable location access to Safari in 'Settings / Privacy / Location Services'"):
alert("We do not have permission to access your location. Please enable access in your settings"):alert("We do not have permission to access your location. Please enable access in your settings")},{timeout:5E4})})})}function e(b){jQuery(".dmGeoLocation").each(function(c,d){function e(c){if(c){a(F).empty().attr("style","");x.hide();if(y.showAll){B.fadeIn("fast");var d=new b.maps.Map(F,{mapTypeId:b.maps.MapTypeId.ROADMAP}),g=new b.maps.LatLngBounds,k;for(c=0;c<q.length;c++)k=new b.maps.LatLng(q[c].latitude,
q[c].longitude),function(c){var g=new b.maps.Marker({position:k,title:q[c].title,map:d,clickable:!0});b.maps.event.addListener(g,"click",function(){u(q[c].uniqueId);var b=a(".dmGeoViewStateWrapper");a(".dmStState").removeClass("isOff");b.removeClass("isOff");e(!1)})}(c),g.extend(k);d.fitBounds(g)}else{B.fadeIn("fast");g=new b.maps.LatLngBounds;c={zoom:14,center:new b.maps.LatLng(y.lat,y.lon),mapTypeId:b.maps.MapTypeId.ROADMAP};var p=new b.maps.Map(F,c);(function(){var a=new b.maps.Marker({position:new b.maps.LatLng(y.lat,
y.lon),title:y.title,map:p,clickable:!0});b.maps.event.addListener(a,"click",function(){r.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");x.show();B.hide();t.hide()});g.extend(new b.maps.LatLng(y.lat,y.lon))})()}B.fadeIn("fast")}else isDudaone||B.hide(),y.showAll?(r.find(".dmGeoLocBtn").removeClass("geoDisabledState"),t.fadeIn("fast"),x.hide()):(t.hide(),x.fadeIn("fast"))}function u(b){var c;a(".dmGeoStList").text(a(".dmGeoStList").attr("info"));var d=jQuery.grep(q,function(a){return a.uniqueId==
b})[0];y.showAll=!1;y.lat=d.latitude;y.lon=d.longitude;y.title=d.title;x.find(".dmGeoSVTitle").text(d.title);c=d.phone?d.formattedAddress+", \x3c/br\x3e"+d.phone:d.formattedAddress;x.find(".dmGeoSVAddr").html(c);(d.phone||d.showPhone)&&x.find(".dmGeoSVPhone a").attr({href:"tel:"+d.phone,phone:d.phone});x.find(".dmGeoSVPhone").toggle(d.showPhone);if(d.url){c=a(d.url);var f=c.attr("raw_url");if(isDudaone&&0==f.indexOf("/site/")){var f=a.layoutDevice?a.layoutDevice.type:"mobile",g=c.attr("href");c.attr("href",
g+("\x26nee\x3dtrue\x26showOriginal\x3dtrue\x26dm_checkSync\x3d1\x26dm_device\x3d"+f))}c.addClass("dmGeoSVGoToPage");x.find(".dmGeoSVGoToPage").replaceWith(c);isDudaone&&a.DM.initAjaxLinks(c);c.show()}else x.find(".dmGeoSVGoToPage").hide();x.find(".dmGeoSVMoreInfo").text(d.description||"");x.find(".dmGeoSVSeeAll").unbind("click").click(function(){y.showAll=!0;x.hide();t.show();e(isDudaone||G.hasClass("isOff"));r.find(".dmGeoLocBtn").removeClass("geoDisabledState");a(".dmGeoStList").text(a(".dmGeoStList").attr("list"))})}
function p(b,c){for(var d=[],e=0;e<q.length;e++)d.push({latitude:q[e].latitude,longitude:q[e].longitude,id:q[e].uniqueId});for(var f=[],e=0;e<d.length;e++){var g=d[e],k=c-g.longitude,m=b-g.latitude,k=Math.sqrt(k*k+m*m);f[e]=g;f[e].distance=k}f.sort(function(a,b){return a.distance>b.distance?1:-1});d=f[0].id;r.find(".dmGeoLocBtn").addClass("geoDisabledState");t.find('li[geoid\x3d"'+d+'"]').data("mode",a(".dmGeoViewStateWrapper").hasClass("isOff")?"map":"list").click()}var r=a(d),v=r.attr("data-editor"),
q=JSON.parse(Base64.decode(v)).locations,t=r.find(".dmGeoMLocList"),B=r.find(".dmGeoMLocMapView"),x=r.find(".dmGeoSingleView").hide(),F=B.find(".dmGeoMLocMapViewMap")[0],v=r.find(".dmGeoMLocList li"),y={},A=0,L=0;y.showAll=!0;isDudaone&&e(!0);var I=r.find(".dmGeoViewStateWrapper"),G=r.find(".dmStState"),E=r.find(".dmGeoStList"),W=r.find(".dmGeoStMap");E.unbind("click").click(function(){a.dmrt.isEditorMode&&window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode||
(G.removeClass("isOff"),I.removeClass("isOff"),e(!1))});W.unbind("click").click(function(){a.dmrt.isEditorMode&&window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode||(G.addClass("isOff"),I.addClass("isOff"),e(!0))});G.unbind("click").click(function(){a(this).hasClass("isOff")?(G.removeClass("isOff"),I.removeClass("isOff"),e(!1)):(G.addClass("isOff"),I.addClass("isOff"),e(!0));"undefined"!==typeof _&&_.isUseIscroll()&&a.layoutManager.refreshIscroll()});
for(c=0;c<v.length;c++)a(v[c]).unbind("click").click(function(){a.layoutManager._isEditorMode&&window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&!window.editorParent.jQuery.onefw.inPreviewMode||(u(a(this).attr("geoid")),"map"===a(this).data("mode")?(x.hide(),t.hide(),B.show(),e(!0)):(a.DM.scrollPreviewToElement(t,100),t.hide(),B.hide(),e(!1)),a(this).data("mode","list"))});r.on("click",".dmGeoLocBtn",function(b){a.layoutManager._isEditorMode&&window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&
!window.editorParent.jQuery.onefw.inPreviewMode||navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){currentUserPos=a;A=a.coords.latitude;L=a.coords.longitude;r.find(".dmGeoViewStateWrapper .dmStState").removeClass("isOff");p(A,L)},function(a){_userAgent==Enum.AgentType.Iphone?navigator.userAgent.match(/CriOS/i)?alert("We do not have permission to access your location. Please enable location access to Chrome in 'Settings / Privacy / Location Services'"):navigator.userAgent.match(/Safari/i)?
alert("We do not have permission to access your location. Please enable location access to Safari in 'Settings / Privacy / Location Services'"):alert("We do not have permission to access your location. Please enable access in your settings"):alert("We do not have permission to access your location. Please enable access in your settings")})})})}a.extend(a.modules,{geolocation:{initGoogleMaps:d,isGoogleMapsWidget:!0}});a.dmrt.register("geolocation",{"default":{ready:function(b){0<jQuery(".dmGeoLocation").length&&
a.DM.loadExternalScriptAsync("https://maps.googleapis.com/maps/api/js?key\x3dAIzaSyBAwUOqPUB1CU31yDztoZYaUE7sPv4ktEI\x26sensor\x3dfalse\x26callback\x3djQuery.dmrt.initGoogleMapsWidgets",d,!0)},load:function(a){},initGoogleMaps:d},mobile:{ready:function(b){0<jQuery(".dmGeoLocation").length&&(b||a.DM.loadExternalScriptAsync("https://maps.googleapis.com/maps/api/js?key\x3dAIzaSyBAwUOqPUB1CU31yDztoZYaUE7sPv4ktEI\x26sensor\x3dfalse\x26callback\x3djQuery.dmrt.initGoogleMapsWidgets",d,!0))},initGoogleMaps:e},
tablet:{},desktop:{}})})(jQuery,window);
(function(a,b){function d(d){d=d||b.google;switch(a.layoutDevice?a.layoutDevice.type:"mobile"){case "mobile":c(d);break;default:c(d)}}function c(b){var c=a(".inlineMap");a.each(c,function(c,d){function f(a){q.center=a;p.height&&u.css("height",p.height);if(u.is(".noScroll")||-1!=window.location.href.indexOf("nee\x3d"))q.scrollwheel=!1;r=new b.maps.Map(d,q);new b.maps.Marker({map:r,position:a})}var u=a(d),p={height:u.attr("data-height"),lat:u.attr("data-lat"),lng:u.attr("data-lng"),address:u.attr("data-address")},
r,v,q={zoom:13,mapTypeId:b.maps.MapTypeId.ROADMAP,zoomControl:!0};v=new b.maps.LatLng(p.lat,p.lng);p.lat&&p.lng?f(v):(v=new b.maps.Geocoder,v.geocode({address:p.address},function(a,c){c==b.maps.GeocoderStatus.OK?f(a[0].geometry.location):f(new b.maps.LatLng(37.425525,-122.148219))}))})}a.extend(a.modules,{inlinemap:{inlineGMapInit:c,isGoogleMapsWidget:!0,initGoogleMaps:d}});a.dmrt.register("inlinemap",{"default":{ready:function(b){"undefined"==typeof google||"undefined"==typeof google.maps?a.DM.loadExternalScriptAsync("https://maps.googleapis.com/maps/api/js?key\x3dAIzaSyBAwUOqPUB1CU31yDztoZYaUE7sPv4ktEI\x26sensor\x3dfalse\x26callback\x3djQuery.dmrt.initGoogleMapsWidgets",
d):d()},load:function(a){},initGoogleMaps:c},mobile:{},tablet:{},desktop:{}})})(jQuery,window);(function(a){a.extend(a.modules,{mobilekeyboarddetection:{}});a.dmrt.register("mobilekeyboarddetection",{"default":{ready:function(a){},load:function(a){}},mobile:{ready:function(b){a("body").on("focus","input, textarea",function(){a("body").addClass("hasMobileKeyboard")}).on("blur","input, textarea",function(){a("body").removeClass("hasMobileKeyboard")})},load:function(a){}},tablet:{},desktop:{}})})(jQuery);
(function(a){var b=function(){var a=window.editorParent&&window.editorParent.$&&window.editorParent.$.dmfw,b=!(window.editorParent.$&&window.editorParent.$.onefw)&&$("body").hasClass("bodyInsideNee"),e=window.editorParent.$&&window.editorParent.$.onefw&&!window.editorParent.$.onefw.inPreviewMode;return!!a&&(b||e)};$.dmrt.register("photogallery",{initPhotoGallery:function(){$.layoutDevice&&$.dmrt.components.photogallery[$.layoutDevice.type].ready?$.dmrt.components.photogallery[$.layoutDevice.type].ready($.layoutManager._isEditorMode):
$.dmrt.components.photogallery["default"].ready($.dmrt.isEditorMode)},"default":{ready:function(b){function c(){var a=0,b=$(".dmPhotoGallery"),c=b.length;setTimeout(function(){for(a;a<c;a++)$.dmrt.components.photogallery.initPhotoGalleryImpl($(b[a]))},1E3)}0<a(".dmPhotoGallery").length&&$.DM.loadExternalScriptAsync("/_dm/s/rt/scripts/photoSwipe/klass.min.js",c,!0)},load:function(a){},resetImageSizes:function(a,b,e){function f(){$.each(u,function(a,b){$.dmrt.components.photogallery["default"].setImageHeight(b,
m)})}var g=a.find("ul.gallery"),k=g.attr("data-d1-gallery-type")||g.attr("data-dudaone-gallery-type")||"square",m=b?b.data("type"):null,u=a.find("li.photoGalleryThumbs");a={attrToAdd:{"data-d1-gallery-type":m},attrToRemove:["data-dudaone-gallery-type"]};if(e||m&&k!==m)if(m&&window.editorParent&&window.editorParent.$&&(window.editorParent.$.dmsrv.updateElementAttributes(g,a),g.attr({"data-d1-gallery-type":m})),e&&(m=k),f(),window.editorParent.$&&window.editorParent.$.dmx)window.editorParent.$.dmx.events.on("numberOfColumnsChanged",
f)},initDudaonePhotogallery:function(a){var b,e,f,g,k,m,u;k=a.find(".gallery a");g=a.children("ul").attr("id");u=$.extend({},{enableMouseWheel:!1,enableKeyboard:!1},eval("("+a.attr("galleryOptionsParams")+")"));u.imageScaleMethod="fitNoUpscale";u.allowUserZoom=!1;u.backButtonHideEnabled=!1;isDudaone&&k.sort(function(a,d){b=parseInt($(a).parent().attr("index"));e=parseInt($(d).parent().attr("index"));return b<e?-1:1});k=$(k);a=window.Code.PhotoSwipe.instances;m=!1;(function(a,b){$.each(a,function(a,
c){c.instanceId===b&&(m=!0,f=c)})})(a,g);m&&f&&window.Code.PhotoSwipe.detatch(f);window.Code.PhotoSwipe.attach(k,u).instanceId=g;document.body.addEventListener("touchstart",function(){})},breakColumns:function(a){if(0<a.find("ul.galleryColumn").length){for(var b=a.find("li.photoGalleryThumbs").length,e=a.find("ul.galleryColumn"),f=e.length,g,k=0;k<b;k++)g=e[k%f],$(g).find("li.photoGalleryThumbs").eq(0).appendTo(a.find("ul").eq(0));e.remove()}},splitToColumns:function(a,b){var e=$("body").hasClass("dmMobileBody"),
f=a.children("ul").eq(0).attr("data-d1-gallery-type")||a.children("ul").eq(0).attr("data-dudaone-gallery-type"),g=a.find("li.photoGalleryThumbs"),k,m=$("\x3cli class\x3d'galleryContainer clearfix'/\x3e"),u;isNaN(b)?b=e?2:4:2<b&&e&&(b=2);k=function(b){for(var c=[],e=0;e<b;e++){var f=$("\x3cul class\x3d'galleryColumn clearfix'/\x3e");f.css({width:100/b+"%",maxWidth:Math.floor(a.width()/b)+"px"});c.push($(f))}return c}(b);$.each(g,function(e,g){var m=$(g);u=k[e%b];m.attr({index:e});m.css({opacity:0});
m.appendTo(u);m.imagesLoaded().done(function(a){var b=a.elements[0];if(0===$(b).width())var c=0,d=setInterval(function(){if(0!==$(b).width()||4<c)clearInterval(d),$.dmrt.components.photogallery["default"].setImageHeight(b,f);c+=1},500);else $.dmrt.components.photogallery["default"].setImageHeight(b,f)}).fail(function(b){b=$(b.elements).eq(0).children("a");var c=b.attr("data-dm-image-path");b.css({backgroundImage:"url("+c+")"});b.attr({href:c});b.children("img").attr("src",c);$.dmrt.components.photogallery["default"].initDudaonePhotogallery(a)})});
$.each(k,function(a,b){b.appendTo(m)});a.find(".dmPhotoGalleryHolder").html(m);imagesLoaded(a,function(){$.dmrt.components.photogallery["default"].resetImageSizes(a,null,!0);window.editorParent.$&&window.editorParent.$.dmx&&window.editorParent.$.dmx.events.trigger("imagesLoaded")})},setImageHeight:function(a,b){var e,f,g,k=$(a);g=k.parents(".dmPhotoGallery").find("ul.galleryColumn").eq(0);e=k.find("img").get(0);var m=e.naturalWidth;f=e.naturalHeight;$.browser.msie&&9>parseInt($.browser.version)&&
(m=new Image,m.src=e.src,e=m.width,f=m.height,m=e);k.attr({"data-naturalWidth":m,"data-naturalHeight":f,"data-ratio":f/m});"asymetric"===b?(g=k.attr("data-ratio"),g=Math.ceil(k.parent().width()*g)-2):g=g.width();k.css({height:g}).animate({opacity:1},500)}},mobile:{},tablet:{},desktop:{},initPhotoGalleryImplWithScript:function(a){function b(){$.dmrt.components.photogallery.initPhotoGalleryImpl(a);e.resolve()}var e=$.Deferred();window.Code&&window.Code.PhotoSwipe?b():$.DM.loadExternalScriptAsync("/_dm/s/rt/scripts/photoSwipe/klass.min.js",
b,!0);return e.promise()},initPhotoGalleryImpl:function(a){function c(a){a=a.find("li:not(.galleryContainer)");for(var b=0;b<a.length;b++){var c=$(a[b]),d=c.children("a"),g=c.find("img");g.data().parent=c;d.css({"background-image":"url('"+e(g.attr("src"))+"')"});d.attr("href",f(d.attr("href")))}}function e(a){return a.getMultisizedPath("mobile")}function f(a){return $.layoutDevice&&$.layoutDevice.type?a.getMultisizedPath($.layoutDevice.type):a}function g(a,b){function c(){f.attr("isAll","false");
f.html(f.data("viewless"));g.find("li").show()}function d(){f.attr("isAll","true");f.html(f.data("viewall"));isDudaone?m(g):g.find("li:gt("+p+")").hide()}var e=b||{},f=e.viewAll||$(this),g=e.gallery||f.closest(".dmPhotoGallery"),k=g.attr("galleryOptionsParams"),p,k=eval("("+k+")");p=k.thumbnailsPerRow*k.rowsToShow-1;e.dontToggle?"true"==f.attr("isAll")?d():c():"true"==f.attr("isAll")?c():d();$.DM.isUseIscroll()&&$.layoutManager.refreshIscroll();if(-1!==window.location.href.indexOf("nee\x3d"))try{window.editorParent.$&&
window.editorParent.$.dmops.redrawSelection()}catch(q){}}function k(a,b){var c=b.thumbnailsPerRow*b.rowsToShow,d=a.find("li").length;a.find("li").hide();5==b.thumbnailsPerRow?(c=b.rowsToShow,a.find(".gallery").removeClass("unEvenImages"),setTimeout(function(){for(var b=0;b<c;b++)$(a.find("li")[b]).show()},0),setTimeout(function(){a.find(".gallery").addClass("unEvenImages");$.browser.msie&&8<$.browser.version&&10>$.browser.version&&a.find(".gallery").addClass("ieFixes")},0)):(a.find("li:lt("+c+")").show(),
setTimeout(function(){a.find(".gallery").removeClass("unEvenImages ieFixes")},0));d>c?(a.find(".photoGalleryViewAll").show(),a.find(".photogalleryviewall").addClass("photoGalleryViewAll").show()):(a.find(".photoGalleryViewAll").hide(),a.find(".photogalleryviewall").hide());setTimeout(function(){-1!=window.location.href.indexOf("nee\x3d")&&window.editorParent.$&&window.editorParent.$.dmops.redrawSelection()},0);return{numToShow:c,allLiElem:d}}function m(a){var b;b=a.children("ul");var c=a.attr("galleryOptionsParams"),
d=b.attr("data-d1-gallery-cols")||b.attr("data-dudaone-gallery-cols")||4,e,f,c=eval("("+c+")");e=c.thumbnailsPerRow*c.rowsToShow;b=a.find("li:not(.galleryContainer)");a.find("li:not(.galleryContainer)").hide();isDudaone&&(e=d*c.rowsToShow,f=0===e,r?p.find("li:lt("+e+")").show():$.each(b,function(a,b){($(b).attr("index")<e||f)&&$(b).show()}))}function u(a){v.captionAndToolbarHide=!0;v.captionAndToolbarAutoHideDelay=0;v.backButtonHideEnabled=!1;return B=$(a).photoSwipe(v)}var p,r,v,q,t,B,x;if(window.editorParent.$&&
window.editorParent.$.dmx)window.editorParent.$.dmx.events.off("previewMobileOrientationRotated").on("previewMobileOrientationRotated",function(){$.dmrt.components.photogallery.initPhotoGalleryImpl(a)});x=a.find(".photoGalleryViewAll, .photogalleryviewall");x.off("click.showAll").on("click.showAll",g);p=a;r="dm_fb_gallery"==p.attr("dmle_extension");v=p.attr("galleryOptionsParams");v=eval("("+v+")");v=$.extend({},{enableMouseWheel:!1,enableKeyboard:!1},v);v.imageScaleMethod="fitNoUpscale";v.allowUserZoom=
!1;v.backButtonHideEnabled=!1;if(0<p.find("li:not(.galleryContainer)").length){c(p);if(isDudaone&&!r){var F=p.find("ul.dmPhotoGalleryHolder").attr("data-d1-gallery-cols")||p.find("ul.dmPhotoGalleryHolder").attr("data-dudaone-gallery-cols")||4;$.dmrt.components.photogallery["default"].breakColumns(p);$.dmrt.components.photogallery["default"].splitToColumns(p,F)}t=p.find("li:not(.galleryContainer)");q=v.thumbnailsPerRow*v.rowsToShow;isDudaone&&F?(q=F*v.rowsToShow,m(p)):(p.find("li:not(.galleryContainer)").hide(),
p.find("li:not(.galleryContainer):lt("+q+")").show());t.length>q?x.addClass("photoGalleryViewAll").show():x.hide();if(window.editorParent.$&&window.editorParent.$.dmops)try{window.editorParent.$.dmops.redrawSelection()}catch(y){}isDudaone||k(p,v);q=-1!==window.location.href.indexOf("nee\x3d");B={};if((!q||isDudaone)&&!r)$.dmrt.components.photogallery["default"].initDudaonePhotogallery(p);else if(r){var A=$(p).find(".dmSocialGalleryHolder"),L=A.parent(".dmFacebookGallery"),I=L.find(".photoGalleryViewAll");
B=p.find(".gallery a").on("click",function(c){if(b())isDudaone&&window.editorParent.$&&window.editorParent.$.onefw&&!window.editorParent.$.onefw.inPreviewMode&&$dmfw().fireEventFromPreview(event,event.target);else{c.preventDefault();var m=$(this).find("img").attr("id"),q=u($(this)),r=L.find("h3.socialgalleryheader"),t=$(this).find("p.caption").html();$.ajax({url:"/_dm/s/rt/api/public/rt/getonlinephotos?id\x3d"+m+"\x26platform\x3dfb"}).done(function(b){function m(){$(this).centerImageWithin($(".photoGalleryThumbs").eq(0),
{stretch:!0})}function x(a){var b=q.cache.images[q.currentIndex].caption,c=B[q.currentIndex].likes;a=$(".ps-uilayer");var c=$("\x3cdiv class\x3d'statusContainer' /\x3e").append(c+" Likes  "),d=$("\x3cdiv class\x3d'caption' /\x3e").append(b),e=$("\x3ca class\x3d'closeBtn' /\x3e").html("done").on("click",function(){q.hide();$(".uiSocialContainer").html("").remove()}),b=$("\x3cdiv class\x3d'uiSocialContainer' /\x3e");b.append(d,c,e);c=$(".uiSocialContainer");0<c.length&&c.remove();a.html("").after(b.css({opacity:1,
"background-color":"transparent"}))}var y=$(p);y.data.albumDisplay=A.html();y.data.title=r.html();A.html("");r.html(t);var B=[];$(b).each(function(a){var c=b[a];a=$("\x3cimg /\x3e").attr({src:c.source,alt:c.caption}).get(0);var d=$('\x3cdiv class\x3d"statusContainer" /\x3e'),g;g=c.likes.toString();var k=g.length,p=g[0],r=g[1];3<k&&(g=7>k?4===k?p+"."+r+"k":p+""+r+"k":7===k?p+"."+r+"m":p+""+r+"m");k=$('\x3cspan class\x3d"likes" /\x3e').html(g);$(k).appendTo(d);c=$('\x3ca class\x3d"thumb" /\x3e').attr({href:f(c.source),
dm_dont_rewrite_url:"true"}).css("background-image","url('"+e(c.source)+"')").append(a,d);$('\x3cli class\x3d"photoGalleryThumbs" /\x3e').append(c).appendTo(A);d=q.settings.getImageSource(c[0]);k=q.settings.getImageCaption(a);a.onload=m;q.cache.images.push(new Code.PhotoSwipe.Image.ImageClass(c,d,k));B.push({likes:g})});q=u(A.find("a"));q.addEventHandler(window.Code.PhotoSwipe.EventTypes.onDisplayImage,function(a){x(a)});k(p,v);y=$("\x3ca /\x3e").attr({"class":"backBtn"}).html("back to albums");1>
$(p).find("a.backBtn").length&&$(p).append(y);y.on("click",function(b){$(this).remove();r.html($(p).data.title);var c=$(p).data.albumDisplay;A.html(c);$.dmrt.components.photogallery.initPhotoGalleryImpl(a);k(p,v);g(b,{gallery:p,viewAll:I,dontToggle:!0})});g(c,{gallery:p,viewAll:I,dontToggle:!0})})}})}}}})})($);
(function(a){$.dmrt.register("restmenu",{"default":{ready:function(a){},load:function(a){}},mobile:{ready:function(){var b,d,c,e;if(isDudaone&&(b=a(document.querySelectorAll(".dmRestaurantMenu .menuCategory")),d=function(a){a=$(a.currentTarget);a.find(".menuItemsWrapper").toggleClass("hidden");a=a.find(".menuCatArrow");a.hasClass("icon-chevron-up")?a.removeClass("icon-chevron-up").addClass("icon-chevron-down"):a.removeClass("icon-chevron-down").addClass("icon-chevron-up")},0<b.length))for(c=0;c<b.length;c++)e=
$(b[c]),e.off("click.toggleMenuItem").on("click.toggleMenuItem",d),0!==c&&e.trigger("click")}},tablet:{},desktop:{ready:function(){$(".dmRestaurantMenuDesktopLeftSideList li").each(function(a){$(this).off("click.goto").on("click.goto",function(a){return function(){var b=$(".dmRestaurantMenuDesktopRightSide li.menuCategory").eq(a);$.DM.scrollPreviewToElement(b)}}(a))})}}})})($);
(function(a){var b=function(a,b,d,g){d=d||600;g=g||560;if(a)return window.open(a,b,"toolbar\x3dno, location\x3dno, directories\x3dno, status\x3dno, menubar\x3dno, scrollbars\x3dno, resizable\x3dno, copyhistory\x3dno, width\x3d"+d+", height\x3d"+g+", top\x3d"+(screen.height/2-g/2)+", left\x3d"+(screen.width/2-d/2))},d=function(b){var d=window.editorParent.jQuery&&window.editorParent.jQuery.onefw&&window.editorParent.jQuery.onefw.inPreviewMode;return!(window.editorParent&&window.editorParent.jQuery&&
window.editorParent.jQuery.dmfw)||window.editorParent.jQuery.onefw&&window.editorParent.jQuery.onefw.inPreviewMode?d?(d={relativeDirection:"top",tipsContainer:window.editorParent.$?window.editorParent.$("#_preview_w"):void 0,bodyText:"You can't use the this widget to share a site from Preview mode.",title:"Share"},window.editorParent.$&&window.editorParent.$.dmpages&&window.editorParent.$.dmpages.showOuterLinkPrompt(null,"_blank",a(b.target),d),!1):!0:!1};a.dmrt.register("shareModule",{"default":{ready:function(a){},
load:function(a){}},mobile:{},tablet:{ready:function(c){a(".dmOuter").off("click.showSharePopup",".shareLink").on("click.showSharePopup",".shareLink",function(c){d(c)&&(c=a(this),b(c.data("href")))})}},desktop:{ready:function(c){a(".dmOuter").off("click.showSharePopup",".shareLink").on("click.showSharePopup",".shareLink",function(c){d(c)&&(c=a(this),b(c.data("href")))})}}})})(jQuery);
(function(a){a.dmrt.register("twitterfeed",{"default":{ready:function(b){a.DM.initTwitterFeed({})},load:function(a){}},mobile:{},tablet:{},desktop:{}})})(jQuery);
(function(a){a.fn.makeParallax=function(b){var d,c=a(window),e=a(this),f=a(window).height(),g=[];a.each(e,function(c,d){g.push(function(a){var c,d=a.offset().top,e=a.outerHeight();return function(g){g+f>d&&d+e>g-e&&(c=Math.floor(-1*(g-d)*b),a.css({backgroundPosition:"50% "+c+"px"}))}}(a(d)))});d=g.length;c.off("scroll.parallax").on("scroll.parallax",function(){var a=0,b=c.scrollTop();for(a;a<d;a++)g[a](b)});0===c.scrollTop()&&c.scrollTop(1);return e};a.extend({iOSVersion:function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var a=
navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]}return"not Iphone"}})})(jQuery);
(function(a){a.extend({getCookie:function(a){for(var d=document.cookie.split(";"),c="",e="",f="",g=0;g<d.length;g++)if(c=d[g].split("\x3d"),e=c[0].replace(/^\s+|\s+$/g,""),e==a)return 1<c.length&&(f=unescape(c[1].replace(/^\s+|\s+$/g,""))),f;return null},setCookie:function(a,d,c,e,f){var g=new Date;g.setTime(g.getTime());c&&(c*=36E5);g=new Date(g.getTime()+c);document.cookie=a+"\x3d"+escape(d)+(c?";expires\x3d"+g.toGMTString():"")+(e?";path\x3d"+e:"")+(f?";secure":"")},dmCookies:{prefixKey:function(a){return"_dm_"+
(a||"")},set:function(b,d){a.setCookie(a.dmCookies.prefixKey(b),d)},get:function(b){return a.getCookie(a.dmCookies.prefixKey(b))},clear:function(b){a.setCookie(a.dmCookies.prefixKey(b),null)}}})})(jQuery);